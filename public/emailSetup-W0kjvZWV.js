import{a3 as z,a7 as ne,c as y,aR as ve,b as l,a0 as K,de as Be,a4 as re,bf as Me,i as b,a5 as j,a2 as w,a9 as M,dI as Ne,t as R,a as x,b_ as pe,e7 as be,E as Fe,k as ie,cp as De,cq as je,aV as Q,b$ as Ce,aS as ue,c0 as N,an as Z,b9 as de,ah as U,aj as Y,ab as ze,bg as qe,bh as fe,bz as H,e as He,c8 as ge,es as Ve,a8 as Se,bQ as Ke,a6 as Ue,q as Ge,aB as me,aQ as We,fL as Qe,fM as Xe,V as Ye,ey as Je,aM as Ze,R as se,n as ye,dm as et,cP as tt,d as Ee,f as nt}from"./index-CKohjhry.js";import{c as E}from"./classNames-CN4lTu6a.js";import{I as te}from"./iconTsx-DOiJm1ci.js";import{T as rt,a as $e}from"./transition-DN2xTdXy.js";import{T as it}from"./page-rjQSrWOg.js";const st="_wrap_87tyg_1",at="_input_87tyg_11",lt="_disabled_87tyg_29",ot="_digit_87tyg_33",ct="_active_87tyg_48",ut="_error_87tyg_52",dt="_digitContent_87tyg_59",ft="_caret_87tyg_86",D={wrap:st,input:at,disabled:lt,digit:ot,active:ct,error:ut,digitContent:dt,caret:ft,"caret-blink":"_caret-blink_87tyg_1"};function ke(e){return(t,r,n)=>{e.addEventListener(t,r,n),z(()=>{e.removeEventListener(t,r,n)})}}const gt=R("<div><input inputmode=numeric autocomplete=one-time-code required pattern=^d*$>"),ee=R("<div>");class en{constructor(t){this.options=t,this.errorSignal=y(!1),this.disabledSignal=y(!1),this.valueSignal=y(""),this.container=ve(r=>{const n=this;this.dispose=r;const i=l(Ie,K(t,{ref(a){const o=n.input;typeof o=="function"?o(a):n.input=a},get error(){return n.errorSignal[0]()},get disabled(){return n.disabledSignal[0]()},get valueSignal(){return n.valueSignal}}));return Be(()=>i)()})}set error(t){this.errorSignal[1](t)}set disabled(t){this.disabledSignal[1](t)}set value(t){this.valueSignal[1](t)}get value(){return this.valueSignal[0]()}cleanup(){this.dispose()}}function Ie(e){const[t,r]=e.valueSignal??y(""),[n,i]=y(-1),[a,o]=y(-1),[_,v]=y(!1);let u=!1,c=!1;const s={inserting:!1,start:null,end:null},f=S=>{s.inserting=S.inserting,s.start=S.originalStart,s.end=S.originalEnd;const p=S.start,g=S.end;if(p===null||g===null){i(-1),o(-1);return}i(p),o(g)},h=S=>{if(!u||document.activeElement!==d||d.selectionStart===null||d.selectionEnd===null){f({start:null,end:null,inserting:!1,originalStart:d.selectionStart,originalEnd:d.selectionEnd}),v(!1);return}const p=e.length,g=d.value.length<p&&d.selectionStart===d.value.length;if(v(g),g||d.selectionStart!==d.selectionEnd){f({start:d.selectionStart,end:g?d.selectionEnd+1:d.selectionEnd,inserting:g,originalStart:d.selectionStart,originalEnd:d.selectionEnd});return}let $=0,m=0,C;if(d.selectionStart===0)$=0,m=1,C="forward";else if(d.selectionStart===p)$=p-1,m=p,C="backward";else{let T=0,P=1;if(s.start!==null&&s.end!==null){const L=d.selectionStart<s.end&&Math.abs(s.start-s.end)===1;C=L?"backward":"forward",(L&&!s.inserting&&S!=="deleteContentForward"||!L&&c)&&(T+=-1)}c&&S===void 0&&(P+=1),$=d.selectionStart+T,m=d.selectionEnd+T+P}d.setSelectionRange($,m,C),f({start:$,end:m,inserting:g,originalStart:d.selectionStart,originalEnd:d.selectionEnd})};ke(document)("selectionchange",()=>h());let d;return(()=>{const S=gt(),p=S.firstChild;return p.$$input=g=>{const $=d.value;let m=$;const C=t(),T=Math.abs((s.start??0)-(s.end??0));(s.inserting||T===C.length)&&(m=m.replace(/[^\d]/g,"")),m=m.slice(0,e.length);const P=!/^\d*$/.test(m);if($.length!==0&&m.length===0||m===C||P){g.preventDefault(),g.currentTarget.value=C,P&&g.currentTarget.setSelectionRange(s.start??0,s.end??0);return}m.length<C.length&&h(g.inputType),r(m),e.onChange?.(m),m.length===e.length&&e.onFill?.(m)},p.$$keyup=g=>{g.key==="Shift"&&(c=!1)},p.$$keydown=g=>{g.key==="Shift"&&(c=!0)},p.addEventListener("blur",()=>{u=!1,h()}),p.addEventListener("focus",()=>{d.setSelectionRange(t().length,t().length),u=!0,h()}),re(g=>{d=g,e.ref?.(g)},p),Me(p,"spellcheck",!1),b(S,l(Ne,{get each(){return Array.from({length:e.length})},children:(g,$)=>(()=>{const m=ee();return b(m,l(rt,{get children(){return l(j,{get when(){return t()[$]},get children(){const C=ee();return b(C,()=>t()[$]),w(()=>x(C,D.digitContent)),C}})}}),null),b(m,(()=>{const C=M(()=>!!(_()&&t().length===$));return()=>C()&&(()=>{const T=ee();return w(()=>x(T,D.caret)),T})()})(),null),w(()=>x(m,E(D.digit,n()<=$&&$<a()&&D.active))),m})()}),null),w(g=>{const $=E(D.wrap,e.error&&D.error,e.disabled&&D.disabled,e.class),m=D.input,C=e.disabled;return $!==g._v$&&x(S,g._v$=$),m!==g._v$2&&x(p,g._v$2=m),C!==g._v$3&&(p.disabled=g._v$3=C),g},{_v$:void 0,_v$2:void 0,_v$3:void 0}),w(()=>p.value=t()),S})()}ne(["keydown","keyup","input"]);function mt(e){const[,t]=pe(e,["noRipple","rippleSquare"]),[r,n]=y();return l(be,K(t,{ref:i=>{w(()=>{if(!e.noRipple){const a=Fe(i,void 0,"no");n(a.element),z(()=>{a.dispose(),n()})}}),e.ref?.(i)},get class(){return E(e.class,!e.noRipple&&"rp",!e.noRipple&&e.rippleSquare&&"rp-square",...Object.entries(e.classList||{}).map(([i,a])=>a?i:void 0))},get children(){return[M(()=>r()),M(()=>e.children)]}}))}const q=(e={})=>l(mt,{ref(t){const r=e.ref;typeof r=="function"?r(t):e.ref=t},get component(){return e.as||"button"},get class(){return E(e.class,e.onlyMobile&&"only-handhelds")},get disabled(){return e.disabled},get onClick(){return e.onClick},get noRipple(){return e.noRipple},get rippleSquare(){return e.rippleSquare},get tabIndex(){return e.tabIndex},get children(){return[M(()=>M(()=>!!e.icon)()&&l(te,{get icon(){return e.icon},get class(){return E("button-icon",e.iconClass)}})),M(()=>M(()=>!!e.text)()?ie(e.text,e.textArgs):e.children),M(()=>M(()=>!!e.iconAfter)()&&l(te,{get icon(){return e.iconAfter},get class(){return E("button-icon",e.iconClass)}}))]}});q.Corner=e=>l(q,K(e,{get class(){return E("btn-circle","btn-corner","z-depth-1",e.class)},tabIndex:-1}));q.Icon=e=>l(q,K(e,{get class(){return E("btn-icon",e.icon,e.class)},tabIndex:-1}));const ht=R("<div><div>"),J=R("<div>"),_t=R("<div class=popup-title>"),vt=R("<button>"),pt=R('<button class="btn-primary btn-color-primary">'),bt=R("<div class=popup-buttons>"),F=Ce(),we=Ce(),ae=document.body,[Ct,St]=y(ae),xe=()=>{St(je()||ae)};De(ae,xe);const A=e=>{const[t,r]=y(!1),[n,i]=ue({}),[a,o]=ue([]),[_,v]=y(),u=N(we),c=e.managers||A.MANAGERS,s=fe(),f=fe(),h=e.withoutOverlay||!1,d=Z.isDarkOverlayActive,S=e.confirmShortcutIsSendShortcut||!1,p=e.isConfirmationNeededOnClose,g=(I,O)=>(i(I,O),z(()=>i(I,void 0)),O),$=(I,O)=>(o([...a,I]),z(()=>o(a.filter(B=>B!==I))),O),m=()=>{if(t()||P())return;r(!0);const I={type:"popup",onPop:()=>{if(p){const O=p();if(O)return Promise.resolve(O).then(()=>{T()}),!1}return T()}};v(I),H.pushItem(I),He(),h||(Z.isOverlayActive=!0,ge.checkAnimations2(!0))},C=()=>{if(P())return;const I=_();if(!I){T();return}H.backByItem(I)},T=()=>{P()||(e.onClose?.(),le(!0),L(!0),r(!1),setTimeout(()=>{le(!1),s.destroy(),Ve.getInstance().hide(),h||(Z.isOverlayActive=!1);const I=_();I&&(H.removeItem(I),v(void 0)),de(A.POPUPS,G),xe(),f.destroy(),h||ge.checkAnimations2(!1),u.dispose(),e.onCloseAfterTimeout?.()},250))},[P,L]=y(!1),[Le,le]=y(!1),[Re,Oe]=y(),G={register:g,registerButton:$,store:n,buttons:a,shown:t,show:m,hide:C,destroy:T,get destroyed(){return P()},managers:c,middlewareHelper:s,lateMiddlewareHelper:f,get navigationItem(){return _()},withoutOverlay:h,night:d,confirmShortcutIsSendShortcut:S,isConfirmationNeededOnClose:p,closable:e.closable||!1,withConfirm:e.withConfirm||!1,body:e.body||!1,footer:e.footer||!1,title:e.title||!1,get element(){return Re()}};return A.POPUPS.push(G),z(()=>{de(A.POPUPS,G)}),e.show!==void 0?U(Y(()=>e.show,I=>{I?m():t()&&C()})):setTimeout(()=>{m()},0),l(F.Provider,{value:G,get children(){return l(ze,{get mount(){return Ct()},get children(){const I=ht(),O=I.firstChild;return I.$$click=B=>{qe(B.target,"popup-container")||!B.target.isConnected||e.closable!==!1&&C()},re(Oe,I),b(O,()=>e.children),w(B=>{const oe=E("popup",e.class,d&&"night",h&&"no-overlay",t()&&"active",Le()&&"hiding"),ce=E("popup-container z-depth-1",e.containerClass);return oe!==B._v$&&x(I,B._v$=oe),ce!==B._v$2&&x(O,B._v$2=ce),B},{_v$:void 0,_v$2:void 0}),I}})}})};A.POPUPS=[];A.MANAGERS=void 0;A.Header=e=>N(F).register("header",(()=>{const t=J();return b(t,()=>e.children),w(()=>x(t,E("popup-header",e.class))),t})());A.Title=e=>{const t=N(F),r=()=>{if(e.title){if(typeof e.title=="string")return ie(e.title);if(typeof e.title!="boolean")return e.title}return e.children};return t.register("title",l(j,{get when(){return r()},get children(){const n=_t();return b(n,r),n}}))};A.CloseButton=e=>{const t=N(F),r=()=>{e.canGoBack&&e.onBackClick?e.onBackClick():t.hide()};return t.register("closeButton",(()=>{const n=vt();return n.$$click=r,b(n,l(j,{get when(){return e.onBackClick},get fallback(){return l(te,{icon:"close"})},get children(){const i=J();return w(()=>x(i,E("animated-close-icon",e.canGoBack&&"state-back"))),i}})),w(()=>x(n,E("btn-icon popup-close",e.class))),n})())};A.ConfirmButton=e=>{const t=N(F);return t.withConfirm?t.register("confirmButton",(()=>{const r=pt();return b(r,l(j,{get when(){return t.withConfirm!==!0},get children(){return ie(t.withConfirm)}})),r})()):null};A.Body=e=>N(F).register("body",(()=>{const t=J();return b(t,()=>e.children),w(()=>x(t,E("popup-body",e.class))),t})());A.Footer=e=>N(F).register("footer",(()=>{const t=J();return b(t,()=>e.children),w(()=>x(t,E("popup-footer popup-footer-abitlarger",e.class))),t})());A.FooterButton=e=>l(A.Button,K(e,{noDefaultClass:!0,get class(){return E("popup-footer-button","btn-primary",e.secondary?"btn-transparent primary text-bold":"btn-color-primary",e.class)}}));A.Button=e=>{const t=N(F),[r,n]=y(!1),i=async a=>{if(t.destroyed)return;let o=e.callback?.(a);if(o!==void 0&&o instanceof Promise){n(!0);try{o=await o}catch{o=!1}o===!1&&n(!1)}o!==!1&&t.hide()};return t.registerButton(e,l(q,{get class(){return E(!e.noDefaultClass&&"popup-button btn",e.noDefaultClass?void 0:e.danger?"danger":"primary",e.class)},get noRipple(){return e.noRipple},onClick:i,get disabled(){return e.disabled||r()},get icon(){return e.iconLeft},get iconAfter(){return e.iconRight},get iconClass(){return E("popup-button-icon",e.iconLeft?"left":"right")},get text(){return e.langKey},get textArgs(){return e.langArgs},get children(){return e.children}}))};A.Buttons=e=>N(F).register("buttons",(()=>{const r=bt();return b(r,()=>e.children),r})());A.getPopups=e=>A.POPUPS.filter(t=>t instanceof e);function yt(e){ve(t=>{l(we.Provider,{value:{dispose:t},get children(){return Q(e)}})})}ne(["click"]);const he=R("<div>");function Et(e){const[,t]=pe(e,["children","currentPage","class","tabClass"]);let r;return Se(()=>{const n=it({...t,content:r});U(Y(()=>e.currentPage,i=>n(i)))}),(()=>{const n=he(),i=r;return typeof i=="function"?re(i,n):r=n,b(n,l(Ke,{get each(){return e.children},children:a=>(()=>{const o=he();return b(o,a),w(()=>x(o,E("tabs-tab",e.tabClass))),o})()})),w(()=>x(n,E("tabs-container",e.class))),n})()}const $t="_popup_pjp0p_1",kt="_popupContainer_pjp0p_5",It="_popupHeader_pjp0p_10",wt="_popupCloseButton_pjp0p_16",xt="_popupFooter_pjp0p_20",At="_slider_pjp0p_24",Pt="_page_pjp0p_31",Tt="_lottie_pjp0p_42",Lt="_title_pjp0p_49",Rt="_subtitle_pjp0p_56",Ot="_input_pjp0p_66",Bt="_footer_pjp0p_75",Mt="_button_pjp0p_82",Nt="_buttonContainer_pjp0p_87",Ft="_error_pjp0p_92",k={popup:$t,popupContainer:kt,popupHeader:It,popupCloseButton:wt,popupFooter:xt,slider:At,page:Pt,lottie:Tt,title:Lt,subtitle:Rt,input:Ot,footer:Bt,button:Mt,buttonContainer:Nt,error:Ft},Dt=R("<div>"),Ae=e=>{const t=K({size:100},e);let r;const n=(()=>{const o=Dt();return o.$$click=()=>{t.restartOnClick&&r?.then(_=>{_.playOrRestart()})},w(_=>{const v={[t.class]:!!t.class},u=t.size+"px";return _._v$=Ue(o,v,_._v$),u!==_._v$2&&((_._v$2=u)!=null?o.style.setProperty("--size",u):o.style.removeProperty("--size")),_},{_v$:void 0,_v$2:void 0}),o})();let i=!1;function a(){if(t.needRaf&&!n.isConnected&&!i){requestAnimationFrame(a);return}r=t.lottieLoader.loadAnimationAsAsset({container:n,loop:!1,autoplay:!0,width:t.size,height:t.size,...t.rlottieOptions},t.name),t.onPromise?.(r)}return w(a),z(()=>{i=!0,r?.then(o=>{o.remove()})}),n};ne(["click"]);function jt(e,t){U(Y(t,(r,n)=>{n&&e.classList.remove(...n.split(" ")),r&&e.classList.add(...r.split(" "))}))}function tn(e,...t){e.classList.add(...t)}function V(e){const t=$e(()=>e.args,i=>i instanceof Node||typeof i=="string"),r=()=>t.toArray(),n=new Ge.IntlElement({key:e.key,args:r()});return jt(n.element,()=>e.class),U(Y(()=>[e.key,r()],([i,a],o)=>{n.update({key:i,args:a})},{defer:!0})),n.element}function zt(e,t){const r=Q(e),{onChange:n}=t;let i=new Set(t.appear?void 0:r);const a=new WeakSet,[o,_]=y([],{equals:!1}),[v]=Xe(),u=t.exitMethod==="remove"?me:f=>{_(h=>(h.push(...f),h));for(const h of f)a.delete(h)};let c;return t.exitMethod==="remove"?c=me:t.exitMethod==="keep-index"?c=f=>f.elements.splice(f.previousIndex,0,f.element):t.exitMethod==="keep-relative"?c=f=>{let h;f.side==="start"?h=f.previousIndex:h=f.elements.length,f.elements.splice(h,0,f.element)}:c=f=>f.elements.push(f.element),We(f=>{const h=o(),d=e();if(d[Qe],Q(v))return v(),f;if(h.length){const S=f.filter(p=>!h.includes(p));return h.length=0,n({list:S,added:[],removed:[],unchanged:S,finishRemoved:u}),S}return Q(()=>{const S=new Set(d),p=d.slice(),g=[],$=[],m=[];for(const P of d)(i.has(P)?m:g).push(P);const C={elements:p,previousElements:f,side:"start"};let T=!g.length;for(let P=0;P<f.length;++P){const L=f[P];S.has(L)?C.side="end":(a.has(L)||($.push(L),a.add(L)),C.element=L,C.previousIndex=P,c(C)),T&&L!==p[P]&&(T=!1)}return!$.length&&T?f:(n({list:p,added:g,removed:$,unchanged:m,finishRemoved:u}),i=S,p)})},t.appear?[]:r.slice())}function qt(e){return typeof e!="function"?()=>e:e}function Ht(e){const t=$e(()=>e.children).toArray,r=e.itemClassName?i=>{i.forEach(a=>{a.classList.add(e.itemClassName)})}:void 0;return r?.(t()),zt(t,{exitMethod:"keep-index",appear:e.appear,onChange:({added:i,removed:a,finishRemoved:o})=>{const _=e.animationOptions;Ye.isAvailable("animations")||(_.duration=0),r?.(i);const v=qt(e.keyframes);let u=!1,c=!1;e.mode==="replacement"?(u=!!a.length,c=!!i.length):e.mode==="remove"?c=!!a.length:e.mode==="add-remove"&&(u=!!i.length,c=!!a.length),queueMicrotask(()=>{if(u){const h=i.map(d=>v(d,!1));i.forEach((d,S)=>{d.animate(h[S],_)})}if(!c){o(a);return}const s=a.map(h=>v(h,!0).slice().reverse()),f=[];a.forEach((h,d)=>{const S=h.animate(s[d],_);f.push(S.finished)}),Promise.all(f).then(()=>o(a))})}})}const _e=(e,t)=>[{[e]:0,opacity:0},{[e]:t+"px",opacity:1}],Vt={"cross-fade":[{opacity:0},{opacity:1}],"grow-width":e=>_e("width",e.clientWidth),"grow-height":e=>_e("height",e.clientHeight)};function Kt(e){return l(Ht,{get animationOptions(){return{duration:200,easing:Je("standard").easing}},get keyframes(){return e.keyframes},get mode(){return e.mode||"replacement"},get itemClassName(){return!e.noItemClass&&"animated-item"},get appear(){return e.appear},get children(){return e.children}})}function Pe(e){return l(be,{component:Kt,get keyframes(){return Vt[e.type]},get mode(){return e.mode},get appear(){return e.appear},get noItemClass(){return e.noItemClass},get children(){return e.children}})}const X=R("<div>"),Te=R("<div><div>");function Ut(e){if(e.includes(" ")||!e.includes("*"))return e;const t=[];for(let r=0;r<e.length;){const n=e.indexOf("*",r);if(n===-1)break;let i=n+1;for(;e[i]==="*";)i++;t.push({_:"messageEntitySpoiler",offset:n,length:i-n}),r=i}return Ze(e,{entities:t,noTextFormat:!0})}function Gt(e){const[t,r]=y(void 0),[n,i]=y(""),[a,o]=y(!1);let _;function v(){if(!n().includes("@")){_.setError();return}o(!0),Ee.managers.apiManager.invokeApi("account.sendVerifyEmailCode",{purpose:e.purpose,email:n()}).then(()=>{o(!1),e.onCodeSent({_:"account.sentEmailCode",email_pattern:n(),length:6})}).catch(u=>{u.type==="EMAIL_INVALID"?r("EmailSetup.InvalidEmail"):u.type==="EMAIL_NOT_ALLOWED"?r("EmailSetup.BadEmail"):(console.error(u),r("Error.AnError")),setTimeout(()=>{o(!1)},200)})}return Se(()=>{se().then(()=>{_.input.focus()}),ke(_.input)("keydown",u=>{u.key==="Enter"&&(u.preventDefault(),v())})}),(()=>{const u=Te(),c=u.firstChild;return b(u,l(Ae,{get class(){return k.lottie},lottieLoader:ye,name:"Mailbox",size:120,restartOnClick:!0,rlottieOptions:{loop:!1,autoplay:!0}}),c),b(u,l(V,{get class(){return k.title},get key(){return e.isInitialSetup?"EmailSetup.Title":"EmailSetup.ChangeTitle"}}),c),b(u,l(V,{get class(){return k.subtitle},get key(){return e.isInitialSetup?"EmailSetup.Subtitle":"EmailSetup.ChangeSubtitle"}}),c),b(u,l(tt,{instanceRef:s=>_=s,get class(){return k.input},label:"EmailSetup.InputCaption",get disabled(){return a()},get value(){return n()},get errorLabel(){return t()?null:void 0},onRawInput:s=>{i(s),r(void 0),_.setState(et.Neutral)}}),c),b(c,l(Pe,{type:"cross-fade",get children(){return l(j,{get when(){return!t()},get fallback(){return(()=>{const s=X();return b(s,l(V,{get key(){return t()}})),w(()=>x(s,k.error)),s})()},get children(){const s=X();return b(s,l(q,{get class(){return E(k.button,"btn-primary btn-color-primary")},text:"Continue",get disabled(){return a()},onClick:v})),w(()=>x(s,k.buttonContainer)),s}})}})),w(s=>{const f=k.page,h=E(k.footer,e.footerClass);return f!==s._v$&&x(u,s._v$=f),h!==s._v$2&&x(c,s._v$2=h),s},{_v$:void 0,_v$2:void 0}),u})()}function Wt(e){const[t,r]=y(void 0),[n,i]=y(!1),a=y("");let o;U(()=>{e.visible!==!1&&se().then(()=>{o.focus()})});function _(){i(!0),Ee.managers.apiManager.invokeApi("account.verifyEmail",{purpose:e.purpose,verification:{_:"emailVerificationCode",code:a[0]()}}).then(()=>{i(!1),e.onSuccess()}).catch(v=>{if(v.type==="EMAIL_VERIFY_EXPIRED")return i(!1),e.onExpired();v.type==="CODE_INVALID"?r("EmailSetup.WrongCode"):(console.error(v),r("Error.AnError")),a[1](""),setTimeout(()=>{i(!1),nt(()=>o.focus())},200)})}return(()=>{const v=Te(),u=v.firstChild;return b(v,l(Ae,{get class(){return k.lottie},lottieLoader:ye,name:"LoveLetter",size:120,restartOnClick:!0,rlottieOptions:{loop:!1,autoplay:!0}}),u),b(v,l(V,{get class(){return k.title},key:"EmailSetup.CheckEmail"}),u),b(v,l(V,{get class(){return k.subtitle},key:"EmailSetup.CheckEmailSubtitle",get args(){return[Ut(e.sentCode.email_pattern)]}}),u),b(v,l(Ie,{ref(c){const s=o;typeof s=="function"?s(c):o=c},valueSignal:a,get class(){return k.input},get length(){return e.sentCode.length},get disabled(){return n()},onFill:_,get error(){return t()!=null},onChange:()=>r(void 0)}),u),b(u,l(Pe,{type:"cross-fade",get children(){return l(j,{get when(){return!t()},get fallback(){return(()=>{const c=X();return b(c,l(V,{get key(){return t()}})),w(()=>x(c,k.error)),c})()},get children(){const c=X();return b(c,l(q,{get class(){return E(k.button,"btn-primary btn-color-primary")},text:"Continue",get disabled(){return n()||a[0]().length!==e.sentCode.length},onClick:_})),w(()=>x(c,k.buttonContainer)),c}})}})),w(c=>{const s=k.page,f=E(k.footer,e.footerClass);return s!==c._v$3&&x(v,c._v$3=s),f!==c._v$4&&x(u,c._v$4=f),c},{_v$3:void 0,_v$4:void 0}),v})()}let W=!1;function nn(e){if(W)return;W=!0;const[t,r]=y(!1),[n,i]=y(0),[a,o]=y(void 0),[_,v]=y(!1);return yt(()=>{const u={type:"left",onPop:()=>void i(0)};z(()=>{W=!1,H.removeItem(u)}),se().then(()=>r(!0));let c=!1;return l(A,{get class(){return k.popup},get containerClass(){return k.popupContainer},get show(){return t()},get closable(){return!e.noskip},onClose:()=>{W=!1,c||e.onDismiss?.()},isConfirmationNeededOnClose:()=>{if(e.noskip&&!c)return Promise.reject()},get children(){return[l(A.Header,{get class(){return k.popupHeader},get children(){return l(j,{get when(){return!e.noskip||n()===1},get children(){return l(A.CloseButton,{get class(){return k.popupCloseButton},get canGoBack(){return n()!==0},onBackClick:()=>void i(0)})}})}}),l(A.Body,{get children(){return l(Et,{get class(){return k.slider},type:"navigation",transitionTime:150,animateFirst:!1,get currentPage(){return n()},onTransitionStart:s=>{v(!1),s===0?H.removeItem(u):H.pushItem(u)},onTransitionEnd:s=>{s===1&&v(!0)},get children(){return[l(Gt,{isInitialSetup:!0,get purpose(){return e.purpose},onCodeSent:s=>{o(s),i(1)}}),l(j,{get when(){return a()},get children(){return l(Wt,{get purpose(){return e.purpose},get sentCode(){return a()},get visible(){return M(()=>n()===1)()&&_()},onExpired:()=>{i(0),o(void 0)},onSuccess:()=>{c=!0,e.onSuccess?.(),r(!1)}})}})]}})}})]}})})}export{Pe as A,q as B,en as C,Gt as E,V as I,Ae as L,A as P,mt as R,Kt as S,Et as T,jt as a,tn as b,yt as c,zt as d,Wt as e,nn as f,ke as s,Ut as w};
//# sourceMappingURL=emailSetup-W0kjvZWV.js.map
