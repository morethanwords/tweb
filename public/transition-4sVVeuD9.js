import{aQ as v,aV as L,c as P,bj as R,aW as h,fR as M}from"./index-B7WIMVLo.js";function N(t){return v(()=>{const e=t.name||"s";return{enterActive:(t.enterActiveClass||e+"-enter-active").split(" "),enter:(t.enterClass||e+"-enter").split(" "),enterTo:(t.enterToClass||e+"-enter-to").split(" "),exitActive:(t.exitActiveClass||e+"-exit-active").split(" "),exit:(t.exitClass||e+"-exit").split(" "),exitTo:(t.exitToClass||e+"-exit-to").split(" ")}})}function C(t){requestAnimationFrame(()=>requestAnimationFrame(t))}function S(t,e,n,i,s){const{onBeforeEnter:c,onEnter:u,onAfterEnter:m}=e;let f;c?.(n),n.classList.add(...t.enter),n.classList.add(...t.enterActive),queueMicrotask(()=>{if(!n.parentNode)return i?.();u?.(n,()=>r())}),C(()=>{n.classList.remove(...t.enter),n.classList.add(...t.enterTo),(!u||u.length<2)&&(n.addEventListener("transitionend",r),n.addEventListener("animationend",r),s!==void 0&&(f=window.setTimeout(()=>r(),s)))});function r(d){(!d||d.target===n)&&(clearTimeout(f),i?.(),n.removeEventListener("transitionend",r),n.removeEventListener("animationend",r),n.classList.remove(...t.enterActive),n.classList.remove(...t.enterTo),m?.(n))}}function q(t,e,n,i,s){const{onBeforeExit:c,onExit:u,onAfterExit:m}=e;if(!n.parentNode)return i?.();let f;c?.(n),n.classList.add(...t.exit),n.classList.add(...t.exitActive),u?.(n,()=>r()),C(()=>{n.classList.remove(...t.exit),n.classList.add(...t.exitTo),(!u||u.length<2)&&(n.addEventListener("transitionend",r),n.addEventListener("animationend",r),s!==void 0&&(f=window.setTimeout(()=>r(),s)))});function r(d){(!d||d.target===n)&&(clearTimeout(f),i?.(),n.removeEventListener("transitionend",r),n.removeEventListener("animationend",r),n.classList.remove(...t.exitActive),n.classList.remove(...t.exitTo),m?.(n))}}var b=()=>{},y=(t,e)=>e();function k(t,e){const n=L(t),i=n?[n]:[],{onEnter:s=y,onExit:c=y}=e,[u,m]=P(e.appear?[]:i),[f]=M();let r,d=!1;function x(o,a){if(!o)return a&&a();d=!0,c(o,()=>{h(()=>{d=!1,m(A=>A.filter(F=>F!==o)),a&&a()})})}function E(o){const a=r;if(!a)return o&&o();r=void 0,m(A=>[a,...A]),s(a,o??b)}const w=e.mode==="out-in"?o=>d||x(o,E):e.mode==="in-out"?o=>E(()=>x(o)):o=>{x(o),E()};return R(o=>{const a=t();return L(f)?(f(),o):(a!==o&&(r=a,h(()=>L(()=>w(o)))),a)},e.appear?void 0:n),u}var T=t=>t instanceof Element;function g(t,e){if(e(t))return t;if(typeof t=="function"&&!t.length)return g(t(),e);if(Array.isArray(t)){const n=[];for(const i of t){const s=g(i,e);s&&(Array.isArray(s)?n.push.apply(n,s):n.push(s))}return n.length?n:null}return null}function _(t,e=T,n=T){const i=v(t),s=v(()=>g(i(),e));return s.toArray=()=>{const c=s();return Array.isArray(c)?c:c?[c]:[]},s}function l(t,e){if(e(t))return t;if(typeof t=="function"&&!t.length)return l(t(),e);if(Array.isArray(t))for(const n of t){const i=l(n,e);if(i)return i}return null}function B(t,e=T,n=T){const i=v(t);return v(()=>l(i(),e))}const I={inout:"in-out",outin:"out-in"},j=t=>{const e=N(t);return k(B(()=>t.children),{mode:I[t.mode],appear:t.appear,onEnter(n,i){S(e(),t,n,i,t.duration)},onExit(n,i){q(e(),t,n,i,t.duration)}})};export{j as T,B as a,l as g,_ as r};
//# sourceMappingURL=transition-4sVVeuD9.js.map
