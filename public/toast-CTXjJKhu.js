import{M as v,bD as g,c0 as y,Z as b,v as u,C as h,b$ as d,cR as p,bE as m,j as E,k as O}from"./index-B7WIMVLo.js";function _(n,e){return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""):n.replace(/-/g,"+").replace(/_/g,"/")}function S(n,e){const s=n.length;if(s!==e.length)return!1;for(let t=0;t<s;++t)if(n[t]!==e[t])return!1;return!0}function P(n){const e=new Blob([n],{type:"image/svg+xml;charset=utf-8"});return new Promise(s=>{const t=new FileReader;t.onload=r=>{s(r.target.result)},t.readAsDataURL(e)})}const k=navigator.credentials&&typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential;function l(n){const e=atob(_(n,!1)),s=new Uint8Array(e.length);for(let t=0,r=s.length;t<r;++t)s[t]=e[t].charCodeAt(0);return s}v.base64ToBytes=l;function C(n){const e=n.toJSON(),s=atob(e.response.clientDataJSON);let t;return e.response.attestationObject?t={_:"inputPasskeyResponseRegister",client_data:{_:"dataJSON",data:s},attestation_data:l(e.response.attestationObject)}:t={_:"inputPasskeyResponseLogin",client_data:{_:"dataJSON",data:s},authenticator_data:l(e.response.authenticatorData),signature:l(e.response.signature),user_handle:atob(e.response.userHandle)},t}function N(n){const e=C(n),s=n.toJSON();return{_:"inputPasskeyCredentialPublicKey",id:s.id,raw_id:s.rawId,response:e}}class T extends g{constructor(e,s){super(!1),this.navigationType=e,this.withOverlay=s,this.onClick=t=>{y(t)||this.element&&!(this.element===document.body)&&b(t.target,this.element)||(this.listenerOptions?.capture&&u(t),this.close(t))},this.listenerOptions=s?{}:{capture:!0}}close(e){this.element&&(this.overlay?.remove(),this.element=void 0,this.dispatchEvent("toggle",!1)),h||window.removeEventListener("contextmenu",this.onClick,this.listenerOptions),document.removeEventListener(d,this.onClick,this.listenerOptions),!p&&this.navigationType&&m.removeByType(this.navigationType)}open(e=document.body){this.close(),!p&&this.navigationType&&m.pushItem({type:this.navigationType,onPop:t=>{this.close()}}),this.element=e,!this.overlay&&this.withOverlay&&(this.overlay=document.createElement("div"),this.overlay.classList.add("btn-menu-overlay"),this.overlay.addEventListener(d,t=>{u(t),this.onClick(t)}));const s=this.element===document.body;this.overlay&&(s?this.element.append(this.overlay):this.element.parentElement.insertBefore(this.overlay,this.element)),h||window.addEventListener("contextmenu",this.onClick,{...this.listenerOptions,once:!0}),document.addEventListener(d,this.onClick,this.listenerOptions),this.dispatchEvent("toggle",!0)}}const c=document.createElement("div");c.classList.add("toasts-container");const i=document.createElement("div");i.classList.add("toast");let a;const o=new T("toast");o.addEventListener("toggle",n=>{n||f()});function f(){o.close(),i.classList.remove("is-visible"),a&&clearTimeout(+a),a=window.setTimeout(()=>{i.remove(),a=void 0},200)}function L(n,e){o.close(),E(i,n),i.parentElement||(c.parentNode||document.body.append(c),c.append(i),i.offsetLeft),i.classList.add("is-visible"),a&&clearTimeout(+a),o.open(i),a=window.setTimeout(f,3e3),e&&o.addEventListener("toggle",e,{once:!0})}function R(n){L(O(n.langPackKey,n.langPackArguments),n.onClose)}export{k as I,T as O,P as a,S as b,L as c,_ as f,N as g,f as h,R as t};
//# sourceMappingURL=toast-CTXjJKhu.js.map
