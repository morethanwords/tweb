{"version":3,"file":"index-CPUxljiQ.js","sources":["../src/components/chat/logFiltersPopup/content.tsx","../src/components/chat/logFiltersPopup/index.ts"],"sourcesContent":["import {createComputed} from 'solid-js';\nimport {attachHotClassName} from '@helpers/solid/classname';\nimport defineSolidElement, {PassedProps} from '@lib/solidjs/defineSolidElement';\nimport {CommittedFilters} from '@components/sidebarRight/tabs/adminRecentActions/filters';\nimport {FlagFilters} from '@components/sidebarRight/tabs/adminRecentActions/filters/flagFilters';\nimport {useFlagFilters} from '@components/sidebarRight/tabs/adminRecentActions/filters/useFlagFilters';\nimport styles from '@components/chat/logFiltersPopup/styles.module.scss';\n\nif(import.meta.hot) import.meta.hot.accept();\n\n\nexport type LogFiltersPopupContentProps = {\n  channelId: ChatId;\n  isBroadcast: boolean;\n  committedFilters?: CommittedFilters | null;\n  onFinish: (payload: FinishPayload) => void;\n};\n\nexport type FinishPayload = {\n  committedFilters?: CommittedFilters | null;\n};\n\nconst LogFiltersPopupContent = defineSolidElement({\n  name: 'log-filters-popup-content',\n  component: (props: PassedProps<LogFiltersPopupContentProps>) => {\n    attachHotClassName(props.element, styles.Container);\n\n    const filtersControls = useFlagFilters({channelId: () => props.channelId, isBroadcast: () => props.isBroadcast});\n\n    createComputed(() => {\n      filtersControls.setFromCommittedFilters(props.committedFilters);\n    });\n\n    const onCommit = (committedFilters?: CommittedFilters) => {\n      props.onFinish({committedFilters});\n    };\n\n    return <>\n      <FlagFilters\n        filtersControls={filtersControls}\n        onCommit={onCommit}\n        onReset={() => onCommit()}\n      />\n    </>;\n  }\n});\n\nexport default LogFiltersPopupContent;\n","import type SolidJSHotReloadGuardProvider from '@lib/solidjs/hotReloadGuardProvider';\nimport PopupElement from '@components/popups';\nimport LogFiltersPopupContent, {LogFiltersPopupContentProps} from '@components/chat/logFiltersPopup/content';\n\n\ntype Args = LogFiltersPopupContentProps & {\n  HotReloadGuard: typeof SolidJSHotReloadGuardProvider;\n};\n\nexport default class LogFiltersPopup extends PopupElement {\n  constructor({HotReloadGuard, onFinish, ...rest}: Args) {\n    super('log-filters-popup', {\n      overlayClosable: true,\n      closable: true,\n      body: true,\n      title: 'RecentActions'\n    });\n\n    const content = new LogFiltersPopupContent;\n    content.HotReloadGuard = HotReloadGuard;\n    content.feedProps({\n      ...rest,\n      onFinish: (payload) => {\n        onFinish(payload);\n        this.hide();\n      }\n    });\n\n    this.body.append(content);\n  }\n}\n"],"names":["LogFiltersPopupContent","defineSolidElement","name","component","props","element","styles","Container","filtersControls","useFlagFilters","channelId","isBroadcast","createComputed","setFromCommittedFilters","committedFilters","onCommit","onFinish","_$createComponent","FlagFilters","onReset","LogFiltersPopupContent$1","LogFiltersPopup","PopupElement","HotReloadGuard","rest","content","payload"],"mappings":"oyBAsBMA,EAAyBC,EAAmB,CAChDC,KAAM,4BACNC,UAAgEC,GAAA,CAC3CA,EAAAA,EAAMC,QAASC,EAAOC,SAAS,EAElD,MAAMC,EAAkBC,EAAe,CAACC,UAAWA,IAAMN,EAAMM,UAAWC,YAAaA,IAAMP,EAAMO,WAAAA,CAAY,EAE/GC,EAAe,IAAM,CACHC,EAAAA,wBAAwBT,EAAMU,gBAAgB,CAAA,CAC/D,EAED,MAAMC,EAAoDD,GAAA,CACxDV,EAAMY,SAAS,CAACF,iBAAAA,CAAAA,CAAiB,CAAA,EAGnC,OAAAG,EACGC,EAAW,CACVV,gBAAAA,EACAO,SAAAA,EACAI,QAASA,IAAMJ,EAAS,CAAA,CAAC,CAG/B,CACF,CAAC,EAEDK,EAAepB,ECtCf,MAAqBqB,UAAwBC,CAAa,CACxD,YAAY,CAAC,eAAAC,EAAgB,SAAAP,EAAU,GAAGQ,GAAa,CACrD,MAAM,oBAAqB,CACzB,gBAAiB,GACjB,SAAU,GACV,KAAM,GACN,MAAO,eAAA,CACR,EAED,MAAMC,EAAU,IAAIzB,EACpByB,EAAQ,eAAiBF,EACzBE,EAAQ,UAAU,CAChB,GAAGD,EACH,SAAWE,GAAY,CACrBV,EAASU,CAAO,EAChB,KAAK,KAAK,CACZ,CAAA,CACD,EAEI,KAAA,KAAK,OAAOD,CAAO,CAC1B,CACF"}