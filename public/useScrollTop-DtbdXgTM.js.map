{"version":3,"file":"useScrollTop-DtbdXgTM.js","sources":["../src/hooks/useScrollTop.ts"],"sourcesContent":["import {type Accessor, createEffect, createSignal, onCleanup} from 'solid-js';\nimport {requestRAF} from '@helpers/solid/requestRAF';\n\n\nexport function useScrollTop(element: Accessor<HTMLElement | null | undefined>) {\n  const [scrollTop, setScrollTop] = createSignal(0);\n\n  let isRAFing = false;\n\n  const requestMetricsUpdate = (el: HTMLElement) => {\n    if(isRAFing) return;\n    isRAFing = true;\n\n    requestRAF(() => {\n      isRAFing = false;\n      setScrollTop(el.scrollTop);\n    });\n  };\n\n  createEffect(() => {\n    const el = element();\n\n    if(!el) {\n      setScrollTop(0);\n      return;\n    }\n\n    requestMetricsUpdate(el);\n\n    const onScroll = () => requestMetricsUpdate(el);\n    el.addEventListener('scroll', onScroll, {passive: true});\n\n    onCleanup(() => {\n      el.removeEventListener('scroll', onScroll);\n    });\n  });\n\n  return scrollTop;\n}\n"],"names":["useScrollTop","element","scrollTop","setScrollTop","createSignal","isRAFing","requestMetricsUpdate","el","requestRAF","createEffect","onScroll","onCleanup"],"mappings":"gEAIO,SAASA,EAAaC,EAAmD,CAC9E,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAa,CAAC,EAEhD,IAAIC,EAAW,GAET,MAAAC,EAAwBC,GAAoB,CAC7CF,IACQA,EAAA,GAEXG,EAAW,IAAM,CACJH,EAAA,GACXF,EAAaI,EAAG,SAAS,CAAA,CAC1B,EAAA,EAGH,OAAAE,EAAa,IAAM,CACjB,MAAMF,EAAKN,IAEX,GAAG,CAACM,EAAI,CACNJ,EAAa,CAAC,EACd,MACF,CAEAG,EAAqBC,CAAE,EAEjB,MAAAG,EAAW,IAAMJ,EAAqBC,CAAE,EAC9CA,EAAG,iBAAiB,SAAUG,EAAU,CAAC,QAAS,GAAK,EAEvDC,EAAU,IAAM,CACXJ,EAAA,oBAAoB,SAAUG,CAAQ,CAAA,CAC1C,CAAA,CACF,EAEMR,CACT"}