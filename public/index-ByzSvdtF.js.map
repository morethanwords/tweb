{"version":3,"file":"index-ByzSvdtF.js","sources":["../src/components/chat/bubbleParts/minimalBubbleMessageContent.tsx","../src/components/chat/bubbleParts/adminLogsResolver/reply.tsx","../src/components/chat/bubbleParts/adminLogsResolver/copyTextHelpers.ts","../src/components/chat/bubbleParts/adminLogsResolver/index.tsx"],"sourcesContent":["import {JSX, ParentProps, Show} from 'solid-js';\nimport {getDirection} from '@helpers/dom/setInnerHTML';\nimport {generateTail, makeTime} from '@components/chat/utils';\n\n\nexport const MinimalBubbleMessageContent = (props: ParentProps<{\n  name?: JSX.Element;\n  date: Date;\n}>) => {\n  return (\n    <div class=\"bubble-content-wrapper\">\n      <div class=\"bubble-content\">\n        <Show when={props.name}>\n          <div class=\"name colored-name next-is-message\">\n            {props.name}\n          </div>\n        </Show>\n        <div class=\"message spoilers-container\" dir={getDirection()}>\n          {props.children}\n          <div class=\"time\">\n            {makeTime(props.date)}\n            <div class=\"time-inner\">\n              {makeTime(props.date)}\n            </div>\n          </div>\n          <div class='clearfix' />\n        </div>\n        {generateTail()}\n      </div>\n    </div>\n  );\n};\n","import createMiddleware from '@helpers/solid/createMiddleware';\nimport {MessageEntity} from '@layer';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\nimport type wrapReply from '@components/wrappers/reply';\n\n\nexport const Reply = (props: {\n  colorPeerId?: PeerId;\n  title: Parameters<typeof wrapReply>[0]['title'];\n  text: string;\n  entities?: MessageEntity[];\n}) => {\n  const {wrapReply} = useHotReloadGuard();\n\n  const content = () => {\n    const middleware = createMiddleware().get();\n\n    const container = wrapReply({\n      setColorPeerId: props.colorPeerId,\n      title: props.title,\n      quote: {\n        text: props.text,\n        entities: props.entities\n      },\n      middleware\n    }).container;\n\n    container.classList.add('margin-0');\n\n    return container;\n  };\n\n  return <>{content()}</>;\n};\n","import {formatDate} from '@helpers/date';\nimport {makeDateFromTimestamp} from '@helpers/date/makeDateFromTimestamp';\nimport formatDuration from '@helpers/formatDuration';\nimport prepareTextWithEntitiesForCopying from '@helpers/prepareTextWithEntitiesForCopying';\nimport {ChannelAdminLogEventAction, ChatBannedRights, Message} from '@layer';\nimport getParticipantPeerId from '@appManagers/utils/chats/getParticipantPeerId';\nimport {isBannedParticipant} from '@appManagers/utils/chats/isBannedParticipant';\nimport removeChatBannedRightsFromParticipant from '@appManagers/utils/chats/removeChatBannedRightsFromParticipant';\nimport I18n from '@lib/langPack';\nimport type apiManagerProxy from '@lib/apiManagerProxy';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\nimport {resolveAdminRightFlagI18n} from '@components/sidebarRight/tabs/adminRecentActions/adminRightsI18nResolver';\nimport {participantRightsMap} from '@components/sidebarRight/tabs/adminRecentActions/participantRightsMap';\nimport {diffFlags} from '@components/sidebarRight/tabs/adminRecentActions/utils';\nimport {wrapFormattedDuration} from '@components/wrappers/wrapDuration';\n\n\ntype ApiManagerProxyType = typeof apiManagerProxy;\n\nexport type CopyTextResult = {\n  text: string;\n  html?: string;\n};\n\nexport function getDateTextForCopy(timestamp: number): string {\n  const date = makeDateFromTimestamp(timestamp);\n  const dateElement = formatDate(date, {withTime: true});\n  return dateElement.textContent || '';\n}\n\n\nexport function formatDurationAsText(seconds: number): string {\n  return wrapFormattedDuration(formatDuration(seconds), true);\n}\n\nexport function extractBanChanges(\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionParticipantToggleBan'}>,\n  channelId: ChatId,\n  apiManagerProxy: ApiManagerProxyType\n) {\n  const isBanned = isBannedParticipant(action.new_participant);\n  const prevBannedParticipant = action.prev_participant?._ === 'channelParticipantBanned' ? action.prev_participant : undefined;\n  const newBannedParticipant = action.new_participant?._ === 'channelParticipantBanned' ? action.new_participant : undefined;\n\n  const channel = apiManagerProxy.getChat(channelId);\n\n  const removeDefaultRights = (rights: ChatBannedRights.chatBannedRights) =>\n    channel?._ === 'channel' && rights ?\n      removeChatBannedRightsFromParticipant(channel, rights) :\n      rights;\n\n  const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\n  const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\n  const username = participantUser?.username || '';\n\n  const diff = diffFlags(\n    removeDefaultRights(prevBannedParticipant?.banned_rights)?.pFlags,\n    removeDefaultRights(newBannedParticipant?.banned_rights)?.pFlags\n  );\n\n  // yes, they need to be inversed here\n  const removed = diff.new.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\n  const added = diff.old.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\n\n  return {isBanned, participantPeerId, participantUser, username, added, removed};\n}\n\nexport function extractAdminChanges(\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionParticipantToggleAdmin'}>,\n  apiManagerProxy: ApiManagerProxyType,\n  isBroadcast: boolean\n) {\n  const prevParticipantRights = 'admin_rights' in action.prev_participant ? action.prev_participant.admin_rights : null;\n  const newParticipantRights = 'admin_rights' in action.new_participant ? action.new_participant.admin_rights : null;\n\n  const diff = diffFlags(prevParticipantRights?.pFlags, newParticipantRights?.pFlags);\n  const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\n\n  const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\n  const username = participantUser?.username || '';\n\n  const added = diff.new.map(key => I18n.format(resolveAdminRightFlagI18n(key as any, {isBroadcast}), true));\n  const removed = diff.old.map(key => I18n.format(resolveAdminRightFlagI18n(key as any, {isBroadcast}), true));\n\n  return {participantPeerId, participantUser, username, added, removed};\n}\n\nexport function extractDefaultRightsChanges(\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionDefaultBannedRights'}>\n) {\n  const diff = diffFlags(action.prev_banned_rights?.pFlags, action.new_banned_rights?.pFlags);\n\n  const added = diff.old.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\n  const removed = diff.new.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\n\n  return {added, removed};\n}\n\nexport function getMessageTextForCopy(message: Message) {\n  if(message._ !== 'message') {\n    return {text: '', html: ''};\n  }\n\n  return prepareTextWithEntitiesForCopying({\n    text: message.message,\n    entities: message.entities\n  });\n}\n\nexport async function createSimpleServiceCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  formatText: (peerTitle: string) => string\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const text = formatText(peerTitle);\n  return {text: `${text} [${dateText}]`};\n}\n\nexport async function createMessageCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  message: Message,\n  formatText: (peerTitle: string) => string\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const text = formatText(peerTitle);\n  const msg = getMessageTextForCopy(message);\n  return {\n    text: `${text} [${dateText}]\\n${msg.text}`,\n    html: `${text} [${dateText}]<br/>${msg.html}`\n  };\n}\n\nexport async function createPreviousValueCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  formatMainText: (peerTitle: string) => string,\n  newValue: string,\n  prevValue: string,\n  formatPreviousLabel: () => string\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const mainText = formatMainText(peerTitle);\n  const previousLabel = formatPreviousLabel();\n  return {\n    text: `${mainText} [${dateText}]\\n${newValue}\\n\\n${previousLabel}:\\n${prevValue}`\n  };\n}\n\nexport async function createMultiLineCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  buildLines: (peerTitle: string, dateText: string) => string[]\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const lines = buildLines(peerTitle, dateText);\n  return {text: lines.join('\\n')};\n}\n\nexport async function createMessageWithPreviousCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  newMessage: Message,\n  prevMessage: Message,\n  formatMainText: (peerTitle: string) => string,\n  formatPreviousLabel: () => string\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const mainText = formatMainText(peerTitle);\n  const newMsg = getMessageTextForCopy(newMessage);\n  const prevMsg = getMessageTextForCopy(prevMessage);\n  const previousLabel = formatPreviousLabel();\n  return {\n    text: `${mainText} [${dateText}]\\n${newMsg.text}\\n\\n${previousLabel}:\\n${prevMsg.text}`,\n    html: `${mainText} [${dateText}]<br/>${newMsg.html}<br/><br/>${previousLabel}:<br/>${prevMsg.html}`\n  };\n}\n\nexport async function createTwoPeerCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  secondPeerId: PeerId,\n  formatText: (peerTitle: string, secondPeerTitle: string) => string\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const secondPeerTitle = await getPeerTitle({peerId: secondPeerId, plainText: true});\n  const text = formatText(peerTitle, secondPeerTitle);\n  return {text: `${text} [${dateText}]`};\n}\n\nexport async function createConditionalCopyText(\n  timestamp: number,\n  peerId: PeerId,\n  condition: boolean,\n  formatTexts: (peerTitle: string) => {trueText: string; falseText: string}\n): Promise<CopyTextResult> {\n  const {getPeerTitle} = useHotReloadGuard();\n  const dateText = getDateTextForCopy(timestamp);\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\n  const {trueText, falseText} = formatTexts(peerTitle);\n  const text = condition ? trueText : falseText;\n  return {text: `${text} [${dateText}]`};\n}\n","import {Component, For, Show} from 'solid-js';\nimport {makeDateFromTimestamp} from '@helpers/date/makeDateFromTimestamp';\nimport formatDuration from '@helpers/formatDuration';\nimport {I18nTsx} from '@helpers/solid/i18n';\nimport {ChannelAdminLogEvent, ChannelAdminLogEventAction, ChatBannedRights} from '@layer';\nimport {AdminLog} from '@appManagers/appChatsManager';\nimport {MyMessage} from '@appManagers/appMessagesManager';\nimport getParticipantPeerId from '@appManagers/utils/chats/getParticipantPeerId';\nimport {isBannedParticipant} from '@appManagers/utils/chats/isBannedParticipant';\nimport removeChatBannedRightsFromParticipant from '@appManagers/utils/chats/removeChatBannedRightsFromParticipant';\nimport getPeerId from '@appManagers/utils/peers/getPeerId';\nimport I18n, {i18n, LangPackKey} from '@lib/langPack';\nimport wrapRichText from '@lib/richTextProcessor/wrapRichText';\nimport wrapTelegramUrlToAnchor from '@lib/richTextProcessor/wrapTelegramUrlToAnchor';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\nimport {resolveAdminRightFlagI18n} from '@components/sidebarRight/tabs/adminRecentActions/adminRightsI18nResolver';\nimport {participantRightsMap} from '@components/sidebarRight/tabs/adminRecentActions/participantRightsMap';\nimport {TopicName} from '@components/sidebarRight/tabs/adminRecentActions/topicName';\nimport {diffFlags} from '@components/sidebarRight/tabs/adminRecentActions/utils';\nimport Space from '@components/space';\nimport {wrapFormattedDuration} from '@components/wrappers/wrapDuration';\nimport {isMessage, linkColor} from '@components/chat/utils';\nimport {MinimalBubbleMessageContent} from '@components/chat/bubbleParts/minimalBubbleMessageContent';\nimport {Reply} from '@components/chat/bubbleParts/adminLogsResolver/reply';\nimport {CopyTextResult, createConditionalCopyText, createMessageCopyText, createMessageWithPreviousCopyText, createMultiLineCopyText, createPreviousValueCopyText, createSimpleServiceCopyText, createTwoPeerCopyText, extractAdminChanges, extractBanChanges, extractDefaultRightsChanges, formatDurationAsText, getDateTextForCopy, getMessageTextForCopy} from '@components/chat/bubbleParts/adminLogsResolver/copyTextHelpers';\n\n\ntype RenderArgs = {\n  channelId: ChatId;\n  event: AdminLog;\n  isBroadcast: boolean;\n  isForum: boolean;\n  peerId: PeerId;\n  makePeerTitle: (peerId: PeerId) => Node;\n  makeMessagePeerTitle: (peerId: PeerId) => Node;\n  isOut: boolean;\n};\n\ntype ServiceResult = {\n  type: 'service';\n  Content: Component;\n  getCopyText: () => Promise<CopyTextResult>;\n};\n\ntype RegularResult = {\n  type: 'regular';\n  bubbleClass: string;\n  Content: Component;\n  getCopyText: () => Promise<CopyTextResult>;\n};\n\ntype DefaultResult = {\n  type: 'default';\n  message: MyMessage;\n  originalMessage?: MyMessage;\n  colorPeerId?: PeerId;\n  ServiceContent: Component;\n  getCopyText: () => Promise<CopyTextResult>;\n};\n\ntype MapCallbackResult = ServiceResult | RegularResult | DefaultResult | null;\n\ntype MapCallbackArgs<Key extends ChannelAdminLogEventAction['_']> = {\n  action: Extract<ChannelAdminLogEventAction, {_: Key}>;\n} & RenderArgs;\n\ntype MapCallback<Key extends ChannelAdminLogEventAction['_']> = (args: MapCallbackArgs<Key>) => MapCallbackResult;\n\nconst defaultBubbleClass = 'can-have-tail has-fake-service is-forced-rounded';\n\nconst adminLogsMap: { [Key in ChannelAdminLogEventAction['_']]: MapCallback<Key> } = {\n  'channelAdminLogEventActionChangeTitle': ({isBroadcast, action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangeTitleChannel' : 'AdminLog.ChangeTitleGroup', [makePeerTitle(peerId), action.new_value]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeTitleChannel' : 'AdminLog.ChangeTitleGroup', true, [peerTitle, action.new_value])\n    )\n  }),\n  'channelAdminLogEventActionChangeAbout': ({isBroadcast, action, event, peerId, makePeerTitle, makeMessagePeerTitle, isOut}) => ({\n    type: 'regular',\n    bubbleClass: defaultBubbleClass,\n    Content: () => {\n      return (\n        <>\n          <div class='service-msg'>\n            <I18nTsx key={isBroadcast ? 'AdminLog.ChangeAboutChannel' : 'AdminLog.ChangeAboutGroup'} args={[makePeerTitle(peerId)]} />\n          </div>\n          <MinimalBubbleMessageContent\n            date={makeDateFromTimestamp(event.date)}\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\n          >\n            {wrapRichText(action.new_value)}\n            <Space amount='0.5rem' />\n            <Reply\n              colorPeerId={peerId}\n              title={i18n('AdminRecentActions.PreviousDescription')}\n              text={action.prev_value}\n            />\n          </MinimalBubbleMessageContent>\n        </>\n      );\n    },\n    getCopyText: () => createPreviousValueCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeAboutChannel' : 'AdminLog.ChangeAboutGroup', true, [peerTitle]),\n      action.new_value,\n      action.prev_value,\n      () => I18n.format('AdminRecentActions.PreviousDescription', true)\n    )\n  }),\n  'channelAdminLogEventActionChangeUsername': ({isBroadcast, event, action, peerId, makePeerTitle, makeMessagePeerTitle, isOut}) => ({\n    type: 'regular',\n    bubbleClass: defaultBubbleClass,\n    Content: () => {\n      const translationKey = ((): LangPackKey => {\n        if(action.new_value) {\n          return isBroadcast ? 'AdminLog.ChangeLinkChannel' : 'AdminLog.ChangeLinkGroup';\n        } else {\n          return isBroadcast ? 'AdminLog.RemovedLinkChannel' : 'AdminLog.RemovedLinkGroup';\n        }\n      })();\n\n      const anchor = (() => {\n        if(!action.new_value) return;\n        const link = `t.me/${action.new_value}`\n\n        const anchor = wrapTelegramUrlToAnchor(link);\n        anchor.textContent = link;\n\n        return anchor;\n      })();\n\n      return (\n        <>\n          <div class='service-msg'>\n            <I18nTsx key={translationKey} args={[makePeerTitle(peerId)]} />\n          </div>\n          <MinimalBubbleMessageContent\n            date={makeDateFromTimestamp(event.date)}\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\n          >\n            <Show when={anchor}>\n              {anchor}\n              <Space amount='0.5rem' />\n            </Show>\n            <Show when={action.prev_value}>\n              <Reply\n                colorPeerId={peerId}\n                title={i18n('AdminRecentActions.PreviousLink')}\n                text={`https://t.me/${action.prev_value}`}\n              />\n            </Show>\n          </MinimalBubbleMessageContent>\n        </>\n      );\n    },\n    getCopyText: () => createMultiLineCopyText(\n      event.date,\n      peerId,\n      (peerTitle, dateText) => {\n        const translationKey: LangPackKey = action.new_value ?\n          (isBroadcast ? 'AdminLog.ChangeLinkChannel' : 'AdminLog.ChangeLinkGroup') :\n          (isBroadcast ? 'AdminLog.RemovedLinkChannel' : 'AdminLog.RemovedLinkGroup');\n        const previousLabel = I18n.format('AdminRecentActions.PreviousLink', true);\n        const lines = [`${I18n.format(translationKey, true, [peerTitle])} [${dateText}]`];\n        if(action.new_value) {\n          lines.push(`https://t.me/${action.new_value}`);\n        }\n        if(action.prev_value) {\n          lines.push(`${previousLabel}: https://t.me/${action.prev_value}`);\n        }\n        return lines;\n      }\n    )\n  }),\n  'channelAdminLogEventActionChangePhoto': ({isBroadcast, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangePhotoChannel' : 'AdminLog.ChangePhotoGroup', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangePhotoChannel' : 'AdminLog.ChangePhotoGroup', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleInvites': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleInvitesEnabled' : 'AdminLog.ToggleInvitesDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(action.new_value ? 'AdminLog.ToggleInvitesEnabled' : 'AdminLog.ToggleInvitesDisabled', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleSignatures': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleSignaturesEnabled' : 'AdminLog.ToggleSignaturesDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(action.new_value ? 'AdminLog.ToggleSignaturesEnabled' : 'AdminLog.ToggleSignaturesDisabled', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionUpdatePinned': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\n    type: 'default',\n    message: action.message,\n    ServiceContent: () => {\n      const pinned = action.message._ === 'message' && action.message.pFlags?.pinned;\n      return i18n(pinned ? 'AdminLog.PinnedMessage' : 'AdminLog.UnpinnedMessage', [makePeerTitle(peerId)]);\n    },\n    getCopyText: () => {\n      const pinned = action.message._ === 'message' && action.message.pFlags?.pinned;\n      return createMessageCopyText(\n        event.date,\n        peerId,\n        action.message,\n        (peerTitle) => I18n.format(pinned ? 'AdminLog.PinnedMessage' : 'AdminLog.UnpinnedMessage', true, [peerTitle])\n      );\n    }\n  }) : null,\n  'channelAdminLogEventActionEditMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.new_message) ? ({\n    type: 'default',\n    message: action.new_message,\n    colorPeerId: peerId,\n    originalMessage: isMessage(action.prev_message) ? action.prev_message : null,\n    ServiceContent: () => i18n('AdminLog.EditedMessage', [makePeerTitle(peerId)]),\n    getCopyText: () => createMessageWithPreviousCopyText(\n      event.date,\n      peerId,\n      action.new_message,\n      action.prev_message,\n      (peerTitle) => I18n.format('AdminLog.EditedMessage', true, [peerTitle]),\n      () => I18n.format('AdminRecentActions.PreviousMessage', true)\n    )\n  }) : null,\n  'channelAdminLogEventActionDeleteMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\n    type: 'default',\n    message: action.message,\n    ServiceContent: () => i18n('AdminLog.DeletedMessage', [makePeerTitle(peerId)]),\n    getCopyText: () => createMessageCopyText(\n      event.date,\n      peerId,\n      action.message,\n      (peerTitle) => I18n.format('AdminLog.DeletedMessage', true, [peerTitle])\n    )\n  }) : null,\n  'channelAdminLogEventActionParticipantJoin': ({isBroadcast, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(isBroadcast ? 'AdminLog.ParticipantJoinedChannel' : 'AdminLog.ParticipantJoinedGroup', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ParticipantJoinedChannel' : 'AdminLog.ParticipantJoinedGroup', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantLeave': ({isBroadcast, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(isBroadcast ? 'AdminLog.ParticipantLeftChannel' : 'AdminLog.ParticipantLeftGroup', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ParticipantLeftChannel' : 'AdminLog.ParticipantLeftGroup', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantInvite': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantInvited', [makePeerTitle(peerId), makePeerTitle(getParticipantPeerId(action.participant))]),\n    getCopyText: () => createTwoPeerCopyText(\n      event.date,\n      peerId,\n      getParticipantPeerId(action.participant),\n      (peerTitle, participantTitle) => I18n.format('AdminLog.ParticipantInvited', true, [peerTitle, participantTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantToggleBan': ({event, action, channelId, peerId, makeMessagePeerTitle, makePeerTitle, isOut}) => ({\n    type: 'regular',\n    bubbleClass: defaultBubbleClass,\n    Content: () => {\n      const isBanned = isBannedParticipant(action.new_participant);\n      const {apiManagerProxy} = useHotReloadGuard();\n\n      const prevBannedParticipant = action.prev_participant?._ === 'channelParticipantBanned' ? action.prev_participant : undefined;\n      const newBannedParticipant = action.new_participant?._ === 'channelParticipantBanned' ? action.new_participant : undefined;\n\n      const channel = apiManagerProxy.getChat(channelId);\n\n      const removeDefaultRights = (rights: ChatBannedRights.chatBannedRights) =>\n        channel?._ === 'channel' && rights ?\n          removeChatBannedRightsFromParticipant(channel, rights) :\n          rights;\n\n      const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\n\n      const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\n      const username = participantUser?.username || '';\n\n      const diff = diffFlags(\n        removeDefaultRights(prevBannedParticipant?.banned_rights)?.pFlags,\n        removeDefaultRights(newBannedParticipant?.banned_rights)?.pFlags\n      );\n\n      // yes, they need to be inversed here\n      const removed = diff.new.map(key => participantRightsMap[key])\n      .filter(Boolean).map(key => i18n(key))\n\n      const added = diff.old.map(key => participantRightsMap[key])\n      .filter(Boolean).map(key => i18n(key))\n\n\n      return (\n        <>\n          <MinimalBubbleMessageContent\n            date={makeDateFromTimestamp(event.date)}\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\n          >\n            <Show when={isBanned}>\n              <I18nTsx\n                key={username ? 'AdminLog.ParticipantBannedUsername' : 'AdminLog.ParticipantBanned'}\n                args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\n              />\n            </Show>\n            <Show when={!isBanned}>\n              <I18nTsx\n                key={username ? 'AdminLog.ParticipantPermissionsToggledUsername' : 'AdminLog.ParticipantPermissionsToggled'}\n                args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\n              />\n            </Show>\n            <Show when={!isBanned}>\n              <Space amount='0.5rem' />\n              <For each={added}>\n                {key => <div>+ {key}</div>}\n              </For>\n              <For each={removed}>\n                {key => <div>- {key}</div>}\n              </For>\n            </Show>\n          </MinimalBubbleMessageContent>\n        </>\n      );\n    },\n    getCopyText: async() => {\n      const dateText = getDateTextForCopy(event.date);\n      const {apiManagerProxy, getPeerTitle} = useHotReloadGuard();\n      const {isBanned, participantPeerId, added, removed} = extractBanChanges(action, channelId, apiManagerProxy);\n      const participantName = await getPeerTitle({peerId: participantPeerId, plainText: true});\n      const adminName = await getPeerTitle({peerId, plainText: true});\n\n      const lines = [`${adminName} [${dateText}]`];\n      lines.push(I18n.format(isBanned ? 'AdminLog.ParticipantBanned' : 'AdminLog.ParticipantPermissionsToggled', true, [participantName]));\n      added.forEach(perm => lines.push(`+ ${perm}`));\n      removed.forEach(perm => lines.push(`- ${perm}`));\n\n      return {text: lines.join('\\n')};\n    }\n  }),\n  'channelAdminLogEventActionParticipantToggleAdmin': ({event, action, peerId, makePeerTitle, makeMessagePeerTitle, isBroadcast, isOut}) => ({\n    type: 'regular',\n    bubbleClass: defaultBubbleClass,\n    Content: () => {\n      const {apiManagerProxy} = useHotReloadGuard();\n\n      const prevParticipantRights = 'admin_rights' in action.prev_participant ? action.prev_participant.admin_rights : null;\n      const newParticipantRights = 'admin_rights' in action.new_participant ? action.new_participant.admin_rights : null;\n\n      const diff = diffFlags(prevParticipantRights?.pFlags, newParticipantRights?.pFlags);\n      const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\n\n      const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\n      const username = participantUser?.username || '';\n\n      const added = diff.new.map(key => i18n(resolveAdminRightFlagI18n(key, {isBroadcast})));\n      const removed = diff.old.map(key => i18n(resolveAdminRightFlagI18n(key, {isBroadcast})));\n\n      return (\n        <>\n          <MinimalBubbleMessageContent\n            date={makeDateFromTimestamp(event.date)}\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\n          >\n            <I18nTsx\n              key={username ? 'AdminLog.AdminPermissionsChangedUsername' : 'AdminLog.AdminPermissionsChanged'}\n              args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\n            />\n            <Space amount='0.5rem' />\n            <For each={added}>\n              {key => <div>+ {key}</div>}\n            </For>\n            <For each={removed}>\n              {key => <div>- {key}</div>}\n            </For>\n          </MinimalBubbleMessageContent>\n        </>\n      );\n    },\n    getCopyText: async() => {\n      const dateText = getDateTextForCopy(event.date);\n      const {apiManagerProxy, getPeerTitle} = useHotReloadGuard();\n      const {participantPeerId, added, removed} = extractAdminChanges(action, apiManagerProxy, isBroadcast);\n      const participantName = await getPeerTitle({peerId: participantPeerId, plainText: true});\n      const adminName = await getPeerTitle({peerId, plainText: true});\n\n      const lines = [`${adminName} [${dateText}]`];\n      lines.push(I18n.format('AdminLog.AdminPermissionsChanged', true, [participantName]));\n      added.forEach(perm => lines.push(`+ ${perm}`));\n      removed.forEach(perm => lines.push(`- ${perm}`));\n\n      return {text: lines.join('\\n')};\n    }\n  }),\n  'channelAdminLogEventActionChangeStickerSet': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeStickerSet', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeStickerSet', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionTogglePreHistoryHidden': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.TogglePreHistoryHiddenEnabled' : 'AdminLog.TogglePreHistoryHiddenDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.TogglePreHistoryHiddenEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.TogglePreHistoryHiddenDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionDefaultBannedRights': ({event, action, peerId, makeMessagePeerTitle, isOut}) => ({\n    type: 'regular',\n    bubbleClass: defaultBubbleClass,\n    Content: () => {\n      const diff = diffFlags(action.prev_banned_rights?.pFlags, action.new_banned_rights?.pFlags);\n\n      const added = diff.old.map(key => participantRightsMap[key])\n      .filter(Boolean).map(key => i18n(key))\n\n      const removed = diff.new.map(key => participantRightsMap[key])\n      .filter(Boolean).map(key => i18n(key))\n\n      return (\n        <>\n          <MinimalBubbleMessageContent\n            date={makeDateFromTimestamp(event.date)}\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\n          >\n            <I18nTsx key={'AdminLog.DefaultBannedRightsChanged'} />\n            <Space amount='0.5rem' />\n            <For each={added}>\n              {key => <div>+ {key}</div>}\n            </For>\n            <For each={removed}>\n              {key => <div>- {key}</div>}\n            </For>\n          </MinimalBubbleMessageContent>\n        </>\n      );\n    },\n    getCopyText: async() => {\n      const {getPeerTitle} = useHotReloadGuard();\n      const dateText = getDateTextForCopy(event.date);\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\n      const {added, removed} = extractDefaultRightsChanges(action);\n\n      const lines = [`${peerTitle} [${dateText}]`];\n      lines.push(I18n.format('AdminLog.DefaultBannedRightsChanged', true, [peerTitle]));\n      added.forEach(perm => lines.push(`+ ${perm}`));\n      removed.forEach(perm => lines.push(`- ${perm}`));\n\n      return {text: lines.join('\\n')};\n    }\n  }),\n  'channelAdminLogEventActionStopPoll':  ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\n    type: 'default',\n    message: action.message,\n    ServiceContent: () => i18n('AdminLog.PollStopped', [makePeerTitle(peerId)]),\n    getCopyText: () => createMessageCopyText(\n      event.date,\n      peerId,\n      action.message,\n      (peerTitle) => I18n.format('AdminLog.PollStopped', true, [peerTitle])\n    )\n  }) : null,\n  'channelAdminLogEventActionChangeLinkedChat': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeLinkedChat', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeLinkedChat', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeLocation': ({isBroadcast, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangeLocationChannel' : 'AdminLog.ChangeLocationGroup', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeLocationChannel' : 'AdminLog.ChangeLocationGroup', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleSlowMode': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => {\n      if(action.new_value) {\n        const duration = wrapFormattedDuration(formatDuration(action.new_value));\n        return i18n('AdminLog.ToggleSlowModeSet', [makePeerTitle(peerId), duration]);\n      } else {\n        return i18n('AdminLog.ToggleSlowModeDisabled', [makePeerTitle(peerId)]);\n      }\n    },\n    getCopyText: async() => {\n      const {getPeerTitle} = useHotReloadGuard();\n      const dateText = getDateTextForCopy(event.date);\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\n      if(action.new_value) {\n        const duration = formatDurationAsText(action.new_value);\n        const text = I18n.format('AdminLog.ToggleSlowModeSet', true, [peerTitle, duration]);\n        return {text: `${text} [${dateText}]`};\n      } else {\n        const text = I18n.format('AdminLog.ToggleSlowModeDisabled', true, [peerTitle]);\n        return {text: `${text} [${dateText}]`};\n      }\n    }\n  }),\n  'channelAdminLogEventActionStartGroupCall': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.StartGroupCall', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.StartGroupCall', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionDiscardGroupCall': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.DiscardGroupCall', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.DiscardGroupCall', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantMute': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantMuted', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\n    getCopyText: () => createTwoPeerCopyText(\n      event.date,\n      getPeerId(action.participant?.peer),\n      peerId,\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantMuted', true, [participantTitle, peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantUnmute': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantUnmuted', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\n    getCopyText: () => createTwoPeerCopyText(\n      event.date,\n      getPeerId(action.participant?.peer),\n      peerId,\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantUnmuted', true, [participantTitle, peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleGroupCallSetting': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.join_muted ? 'AdminLog.ToggleGroupCallSettingEnabled' : 'AdminLog.ToggleGroupCallSettingDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.join_muted,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleGroupCallSettingEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleGroupCallSettingDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionParticipantJoinByInvite': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantJoinedByInvite', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ParticipantJoinedByInvite', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionExportedInviteDelete': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ExportedInviteDeleted', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteDeleted', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionExportedInviteRevoke': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ExportedInviteRevoked', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteRevoked', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionExportedInviteEdit': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ExportedInviteEdit', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteEdit', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionParticipantVolume': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantVolumeChanged', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\n    getCopyText: () => createTwoPeerCopyText(\n      event.date,\n      getPeerId(action.participant?.peer),\n      peerId,\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantVolumeChanged', true, [participantTitle, peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeHistoryTTL': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => {\n      if(action.new_value) {\n        const duration = wrapFormattedDuration(formatDuration(action.new_value));\n        return i18n('AdminLog.ChangeHistoryTTLEnabled', [makePeerTitle(peerId), duration]);\n      } else {\n        return i18n('AdminLog.ChangeHistoryTTLDisabled', [makePeerTitle(peerId)]);\n      }\n    },\n    getCopyText: async() => {\n      const {getPeerTitle} = useHotReloadGuard();\n      const dateText = getDateTextForCopy(event.date);\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\n      if(action.new_value) {\n        const duration = formatDurationAsText(action.new_value);\n        const text = I18n.format('AdminLog.ChangeHistoryTTLEnabled', true, [peerTitle, duration]);\n        return {text: `${text} [${dateText}]`};\n      } else {\n        const text = I18n.format('AdminLog.ChangeHistoryTTLDisabled', true, [peerTitle]);\n        return {text: `${text} [${dateText}]`};\n      }\n    }\n  }),\n  'channelAdminLogEventActionParticipantJoinByRequest': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantJoinedByRequest', [makePeerTitle(peerId), makePeerTitle(action.approved_by.toPeerId())]),\n    getCopyText: () => createTwoPeerCopyText(\n      event.date,\n      peerId,\n      action.approved_by.toPeerId(),\n      (peerTitle, approvedByTitle) => I18n.format('AdminLog.ParticipantJoinedByRequest', true, [peerTitle, approvedByTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleNoForwards': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleNoForwardsEnabled' : 'AdminLog.ToggleNoForwardsDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleNoForwardsEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleNoForwardsDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionSendMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\n    type: 'default',\n    message: action.message,\n    ServiceContent: () => i18n('AdminLog.MessageSent', [makePeerTitle(peerId)]),\n    getCopyText: () => createMessageCopyText(\n      event.date,\n      peerId,\n      action.message,\n      (peerTitle) => I18n.format('AdminLog.MessageSent', true, [peerTitle])\n    )\n  }) : null,\n  'channelAdminLogEventActionChangeAvailableReactions': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeAvailableReactions', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeAvailableReactions', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeUsernames': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () =>\n      i18n('AdminLog.ChangeUsernames', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeUsernames', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleForum': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleForumEnabled' : 'AdminLog.ToggleForumDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleForumEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleForumDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionCreateTopic': ({peerId, action, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => <I18nTsx key='AdminLog.TopicCreated' args={[makePeerTitle(peerId), <TopicName topic={action.topic} />]} />,\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => {\n        const topicTitle = action.topic._ === 'forumTopicDeleted' ? '' : action.topic.title;\n        return I18n.format('AdminLog.TopicCreated', true, [peerTitle, topicTitle]);\n      }\n    )\n  }),\n  'channelAdminLogEventActionEditTopic': ({peerId, makePeerTitle, action, event}) => ({\n    type: 'service',\n    Content: () => <I18nTsx key='AdminLog.TopicEdited' args={[makePeerTitle(peerId), <TopicName topic={action.new_topic} />]} />,\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => {\n        const topicTitle = action.new_topic._ === 'forumTopicDeleted' ? '' : action.new_topic.title;\n        return I18n.format('AdminLog.TopicEdited', true, [peerTitle, topicTitle]);\n      }\n    )\n  }),\n  'channelAdminLogEventActionDeleteTopic': ({peerId, makePeerTitle, action, event}) => ({\n    type: 'service',\n    Content: () => <I18nTsx key='AdminLog.TopicDeleted' args={[makePeerTitle(peerId), <TopicName topic={action.topic} />]} />,\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => {\n        const topicTitle = action.topic._ === 'forumTopicDeleted' ? '' : action.topic.title;\n        return I18n.format('AdminLog.TopicDeleted', true, [peerTitle, topicTitle]);\n      }\n    )\n  }),\n  'channelAdminLogEventActionPinTopic': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => {\n      const pinned = !!action.new_topic;\n      const topic = action.new_topic ? action.new_topic : action.prev_topic;\n\n      return <I18nTsx key={pinned ? 'AdminLog.TopicPinned' : 'AdminLog.TopicUnpinned'} args={[makePeerTitle(peerId), <TopicName topic={topic} />]} />;\n    },\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => {\n        const pinned = !!action.new_topic;\n        const topic = action.new_topic ? action.new_topic : action.prev_topic;\n        const topicTitle = topic._ === 'forumTopic' ? topic.title : '';\n        return I18n.format(pinned ? 'AdminLog.TopicPinned' : 'AdminLog.TopicUnpinned', true, [peerTitle, topicTitle]);\n      }\n    )\n  }),\n  'channelAdminLogEventActionToggleAntiSpam': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleAntiSpamEnabled' : 'AdminLog.ToggleAntiSpamDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleAntiSpamEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleAntiSpamDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionChangePeerColor': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangePeerColor', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangePeerColor', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeProfilePeerColor': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeProfilePeerColor', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeProfilePeerColor', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeWallpaper': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeWallpaper', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeWallpaper', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeEmojiStatus': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeEmojiStatus', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeEmojiStatus', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionChangeEmojiStickerSet': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ChangeEmojiStickerSet', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ChangeEmojiStickerSet', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleSignatureProfiles': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleSignatureProfilesEnabled' : 'AdminLog.ToggleSignatureProfilesDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleSignatureProfilesEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleSignatureProfilesDisabled', true, [peerTitle])\n      })\n    )\n  }),\n  'channelAdminLogEventActionParticipantSubExtend': ({peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n('AdminLog.ParticipantSubscriptionExtended', [makePeerTitle(peerId)]),\n    getCopyText: () => createSimpleServiceCopyText(\n      event.date,\n      peerId,\n      (peerTitle) => I18n.format('AdminLog.ParticipantSubscriptionExtended', true, [peerTitle])\n    )\n  }),\n  'channelAdminLogEventActionToggleAutotranslation': ({action, peerId, makePeerTitle, event}) => ({\n    type: 'service',\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleAutoTranslationEnabled' : 'AdminLog.ToggleAutoTranslationDisabled', [makePeerTitle(peerId)]),\n    getCopyText: () => createConditionalCopyText(\n      event.date,\n      peerId,\n      action.new_value,\n      (peerTitle) => ({\n        trueText: I18n.format('AdminLog.ToggleAutoTranslationEnabled', true, [peerTitle]),\n        falseText: I18n.format('AdminLog.ToggleAutoTranslationDisabled', true, [peerTitle])\n      })\n    )\n  })\n};\n\ntype ResolveAdminLogArgs = RenderArgs;\n\nexport const resolveAdminLog = (args: ResolveAdminLogArgs) => {\n  const {event} = args;\n  const resolver = adminLogsMap[event.action._];\n\n  if(!resolver) {\n    return null;\n  }\n\n  return resolver({...args, action: event.action as never});\n};\n"],"names":["MinimalBubbleMessageContent","props","_el$","_tmpl$2","_el$2","firstChild","_el$4","_el$5","_el$6","_$insert","_$createComponent","Show","when","name","children","_el$3","_tmpl$","makeTime","date","generateTail","_$effect","_$setAttribute","getDirection","Reply","wrapReply","useHotReloadGuard","_$memo","content","middleware","createMiddleware","get","container","setColorPeerId","colorPeerId","title","quote","text","entities","classList","add","getDateTextForCopy","timestamp","makeDateFromTimestamp","formatDate","formatDurationAsText","seconds","wrapFormattedDuration","formatDuration","extractBanChanges","action","channelId","apiManagerProxy","isBanned","isBannedParticipant","prevBannedParticipant","newBannedParticipant","channel","removeDefaultRights","rights","removeChatBannedRightsFromParticipant","participantPeerId","getParticipantPeerId","participantUser","username","diff","diffFlags","removed","key","participantRightsMap","I18n","added","extractAdminChanges","isBroadcast","prevParticipantRights","newParticipantRights","resolveAdminRightFlagI18n","extractDefaultRightsChanges","getMessageTextForCopy","message","prepareTextWithEntitiesForCopying","createSimpleServiceCopyText","peerId","formatText","getPeerTitle","dateText","peerTitle","createMessageCopyText","msg","createPreviousValueCopyText","formatMainText","newValue","prevValue","formatPreviousLabel","mainText","previousLabel","createMultiLineCopyText","buildLines","createMessageWithPreviousCopyText","newMessage","prevMessage","newMsg","prevMsg","createTwoPeerCopyText","secondPeerId","secondPeerTitle","createConditionalCopyText","condition","formatTexts","trueText","falseText","defaultBubbleClass","adminLogsMap","channelAdminLogEventActionChangeTitle","makePeerTitle","event","type","Content","i18n","new_value","getCopyText","format","channelAdminLogEventActionChangeAbout","makeMessagePeerTitle","isOut","bubbleClass","I18nTsx","args","wrapRichText","Space","amount","prev_value","channelAdminLogEventActionChangeUsername","translationKey","anchor","link","wrapTelegramUrlToAnchor","textContent","lines","push","channelAdminLogEventActionChangePhoto","channelAdminLogEventActionToggleInvites","channelAdminLogEventActionToggleSignatures","channelAdminLogEventActionUpdatePinned","isMessage","ServiceContent","pinned","_","pFlags","channelAdminLogEventActionEditMessage","new_message","originalMessage","prev_message","channelAdminLogEventActionDeleteMessage","channelAdminLogEventActionParticipantJoin","channelAdminLogEventActionParticipantLeave","channelAdminLogEventActionParticipantInvite","participant","participantTitle","channelAdminLogEventActionParticipantToggleBan","new_participant","prev_participant","undefined","getChat","getUser","toUserId","banned_rights","new","map","filter","Boolean","old","linkColor","For","each","_tmpl$3","participantName","plainText","forEach","perm","join","channelAdminLogEventActionParticipantToggleAdmin","admin_rights","_el$7","_el$9","channelAdminLogEventActionChangeStickerSet","channelAdminLogEventActionTogglePreHistoryHidden","channelAdminLogEventActionDefaultBannedRights","prev_banned_rights","new_banned_rights","_el$11","_el$13","channelAdminLogEventActionStopPoll","channelAdminLogEventActionChangeLinkedChat","channelAdminLogEventActionChangeLocation","channelAdminLogEventActionToggleSlowMode","duration","channelAdminLogEventActionStartGroupCall","channelAdminLogEventActionDiscardGroupCall","channelAdminLogEventActionParticipantMute","getPeerId","peer","channelAdminLogEventActionParticipantUnmute","channelAdminLogEventActionToggleGroupCallSetting","join_muted","channelAdminLogEventActionParticipantJoinByInvite","channelAdminLogEventActionExportedInviteDelete","channelAdminLogEventActionExportedInviteRevoke","channelAdminLogEventActionExportedInviteEdit","channelAdminLogEventActionParticipantVolume","channelAdminLogEventActionChangeHistoryTTL","channelAdminLogEventActionParticipantJoinByRequest","approved_by","toPeerId","approvedByTitle","channelAdminLogEventActionToggleNoForwards","channelAdminLogEventActionSendMessage","channelAdminLogEventActionChangeAvailableReactions","channelAdminLogEventActionChangeUsernames","channelAdminLogEventActionToggleForum","channelAdminLogEventActionCreateTopic","TopicName","topic","topicTitle","channelAdminLogEventActionEditTopic","new_topic","channelAdminLogEventActionDeleteTopic","channelAdminLogEventActionPinTopic","prev_topic","channelAdminLogEventActionToggleAntiSpam","channelAdminLogEventActionChangePeerColor","channelAdminLogEventActionChangeProfilePeerColor","channelAdminLogEventActionChangeWallpaper","channelAdminLogEventActionChangeEmojiStatus","channelAdminLogEventActionChangeEmojiStickerSet","channelAdminLogEventActionToggleSignatureProfiles","channelAdminLogEventActionParticipantSubExtend","channelAdminLogEventActionToggleAutotranslation","resolveAdminLog","resolver"],"mappings":"woCAKaA,EAA+BC,IAI1C,IAAA,CAAA,MAAAC,EAAAC,GAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAD,WAAAG,EAAAD,EAAAF,WAAAI,OAAAA,EAAAL,EAAAM,EAGOC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEX,EAAMY,IAAI,EAAA,IAAAC,UAAA,CAAA,MAAAC,EAAAC,KAAAP,OAAAA,EAAAM,EAEjBd,IAAAA,EAAMY,IAAI,EAAAE,CAAA,CAAA,CAAA,EAAAT,CAAA,EAAAG,EAAAH,EAAA,IAIZL,EAAMa,SAAQP,CAAA,EAAAE,EAAAF,EAAA,IAEZU,EAAShB,EAAMiB,IAAI,EAACV,CAAA,EAAAC,EAAAD,EAElBS,IAAAA,EAAShB,EAAMiB,IAAI,CAAC,EAAAT,EAAAL,EAK1Be,GAAY,IAAA,EAAAC,OAAAC,GAAAf,EAVgCgB,MAAAA,GAAc,CAAA,CAAA,EAAApB,CAAA,KCXtDqB,EAAStB,GAKhB,CACJ,KAAM,CAACuB,UAAAA,CAAU,EAAGC,EAAiB,EAoBrC,OAAAC,GAlBgBC,IAAM,CACpB,MAAMC,EAAaC,KAAmBC,MAEhCC,EAAYP,EAAU,CAC1BQ,eAAgB/B,EAAMgC,YACtBC,MAAOjC,EAAMiC,MACbC,MAAO,CACLC,KAAMnC,EAAMmC,KACZC,SAAUpC,EAAMoC,QACjB,EACDT,WAAAA,CACD,CAAA,EAAEG,UAEHA,OAAAA,EAAUO,UAAUC,IAAI,UAAU,EAE3BR,EAGQ,CACnB,ECTO,SAASS,EAAmBC,EAA2B,CACtD,MAAAvB,EAAOwB,EAAsBD,CAAS,EAE5C,OADoBE,GAAWzB,EAAM,CAAC,SAAU,GAAK,EAClC,aAAe,EACpC,CAGO,SAAS0B,EAAqBC,EAAyB,CAC5D,OAAOC,EAAsBC,EAAeF,CAAO,EAAG,EAAI,CAC5D,CAEgB,SAAAG,GACdC,EACAC,EACAC,EACA,CACM,MAAAC,EAAWC,GAAoBJ,EAAO,eAAe,EACrDK,EAAwBL,EAAO,kBAAkB,IAAM,2BAA6BA,EAAO,iBAAmB,OAC9GM,EAAuBN,EAAO,iBAAiB,IAAM,2BAA6BA,EAAO,gBAAkB,OAE3GO,EAAUL,EAAgB,QAAQD,CAAS,EAE3CO,EAAuBC,GAC3BF,GAAS,IAAM,WAAaE,EAC1BC,GAAsCH,EAASE,CAAM,EACrDA,EAEEE,EAAoBC,EAAqBZ,EAAO,kBAAoBA,EAAO,eAAe,EAC1Fa,EAAkBX,EAAgB,QAAQS,EAAkB,SAAU,CAAA,EACtEG,EAAWD,GAAiB,UAAY,GAExCE,EAAOC,EACXR,EAAoBH,GAAuB,aAAa,GAAG,OAC3DG,EAAoBF,GAAsB,aAAa,GAAG,MAAA,EAItDW,EAAUF,EAAK,IAAI,IAAWG,GAAAC,EAAqBD,CAAG,CAAC,EAAE,OAAO,OAAO,EAAE,IAAIA,GAAOE,EAAK,OAAOF,EAAK,EAAI,CAAC,EAC1GG,EAAQN,EAAK,IAAI,IAAWG,GAAAC,EAAqBD,CAAG,CAAC,EAAE,OAAO,OAAO,EAAE,IAAIA,GAAOE,EAAK,OAAOF,EAAK,EAAI,CAAC,EAE9G,MAAO,CAAC,SAAAf,EAAU,kBAAAQ,EAAmB,gBAAAE,EAAiB,SAAAC,EAAU,MAAAO,EAAO,QAAAJ,EACzE,CAEgB,SAAAK,GACdtB,EACAE,EACAqB,EACA,CACA,MAAMC,EAAwB,iBAAkBxB,EAAO,iBAAmBA,EAAO,iBAAiB,aAAe,KAC3GyB,EAAuB,iBAAkBzB,EAAO,gBAAkBA,EAAO,gBAAgB,aAAe,KAExGe,EAAOC,EAAUQ,GAAuB,OAAQC,GAAsB,MAAM,EAC5Ed,EAAoBC,EAAqBZ,EAAO,kBAAoBA,EAAO,eAAe,EAE1Fa,EAAkBX,EAAgB,QAAQS,EAAkB,SAAU,CAAA,EACtEG,EAAWD,GAAiB,UAAY,GAExCQ,EAAQN,EAAK,IAAI,OAAWK,EAAK,OAAOM,EAA0BR,EAAY,CAAC,YAAAK,CAAY,CAAA,EAAG,EAAI,CAAC,EACnGN,EAAUF,EAAK,IAAI,OAAWK,EAAK,OAAOM,EAA0BR,EAAY,CAAC,YAAAK,CAAY,CAAA,EAAG,EAAI,CAAC,EAE3G,MAAO,CAAC,kBAAAZ,EAAmB,gBAAAE,EAAiB,SAAAC,EAAU,MAAAO,EAAO,QAAAJ,CAAO,CACtE,CAEO,SAASU,GACd3B,EACA,CACA,MAAMe,EAAOC,EAAUhB,EAAO,oBAAoB,OAAQA,EAAO,mBAAmB,MAAM,EAEpFqB,EAAQN,EAAK,IAAI,IAAWG,GAAAC,EAAqBD,CAAG,CAAC,EAAE,OAAO,OAAO,EAAE,IAAIA,GAAOE,EAAK,OAAOF,EAAK,EAAI,CAAC,EACxGD,EAAUF,EAAK,IAAI,IAAWG,GAAAC,EAAqBD,CAAG,CAAC,EAAE,OAAO,OAAO,EAAE,IAAIA,GAAOE,EAAK,OAAOF,EAAK,EAAI,CAAC,EAEzG,MAAA,CAAC,MAAAG,EAAO,QAAAJ,EACjB,CAEO,SAASW,EAAsBC,EAAkB,CACnD,OAAAA,EAAQ,IAAM,UACR,CAAC,KAAM,GAAI,KAAM,EAAE,EAGrBC,GAAkC,CACvC,KAAMD,EAAQ,QACd,SAAUA,EAAQ,QAAA,CACnB,CACH,CAEsB,eAAAE,EACpBvC,EACAwC,EACAC,EACyB,CACnB,KAAA,CAAC,aAAAC,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EAE9D,MAAO,CAAC,KAAM,GADDC,EAAWG,CAAS,CACZ,KAAKD,CAAQ,IACpC,CAEA,eAAsBE,EACpB7C,EACAwC,EACAH,EACAI,EACyB,CACnB,KAAA,CAAC,aAAAC,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EACxD7C,EAAO8C,EAAWG,CAAS,EAC3BE,EAAMV,EAAsBC,CAAO,EAClC,MAAA,CACL,KAAM,GAAG1C,CAAI,KAAKgD,CAAQ;AAAA,EAAMG,EAAI,IAAI,GACxC,KAAM,GAAGnD,CAAI,KAAKgD,CAAQ,SAASG,EAAI,IAAI,EAAA,CAE/C,CAEA,eAAsBC,GACpB/C,EACAwC,EACAQ,EACAC,EACAC,EACAC,EACyB,CACnB,KAAA,CAAC,aAAAT,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EACxDY,EAAWJ,EAAeJ,CAAS,EACnCS,EAAgBF,IACf,MAAA,CACL,KAAM,GAAGC,CAAQ,KAAKT,CAAQ;AAAA,EAAMM,CAAQ;AAAA;AAAA,EAAOI,CAAa;AAAA,EAAMH,CAAS,EAAA,CAEnF,CAEsB,eAAAI,GACpBtD,EACAwC,EACAe,EACyB,CACnB,KAAA,CAAC,aAAAb,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EAE9D,MAAO,CAAC,KADMe,EAAWX,EAAWD,CAAQ,EACxB,KAAK;AAAA,CAAI,CAAC,CAChC,CAEA,eAAsBa,GACpBxD,EACAwC,EACAiB,EACAC,EACAV,EACAG,EACyB,CACnB,KAAA,CAAC,aAAAT,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EACxDY,EAAWJ,EAAeJ,CAAS,EACnCe,EAASvB,EAAsBqB,CAAU,EACzCG,EAAUxB,EAAsBsB,CAAW,EAC3CL,EAAgBF,IACf,MAAA,CACL,KAAM,GAAGC,CAAQ,KAAKT,CAAQ;AAAA,EAAMgB,EAAO,IAAI;AAAA;AAAA,EAAON,CAAa;AAAA,EAAMO,EAAQ,IAAI,GACrF,KAAM,GAAGR,CAAQ,KAAKT,CAAQ,SAASgB,EAAO,IAAI,aAAaN,CAAa,SAASO,EAAQ,IAAI,EAAA,CAErG,CAEA,eAAsBC,EACpB7D,EACAwC,EACAsB,EACArB,EACyB,CACnB,KAAA,CAAC,aAAAC,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EACxDuB,EAAkB,MAAMrB,EAAa,CAAC,OAAQoB,EAAc,UAAW,GAAK,EAElF,MAAO,CAAC,KAAM,GADDrB,EAAWG,EAAWmB,CAAe,CAC7B,KAAKpB,CAAQ,IACpC,CAEA,eAAsBqB,EACpBhE,EACAwC,EACAyB,EACAC,EACyB,CACnB,KAAA,CAAC,aAAAxB,GAAgB1D,IACjB2D,EAAW5C,EAAmBC,CAAS,EACvC4C,EAAY,MAAMF,EAAa,CAAC,OAAAF,EAAQ,UAAW,GAAK,EACxD,CAAC,SAAA2B,EAAU,UAAAC,CAAS,EAAIF,EAAYtB,CAAS,EAEnD,MAAO,CAAC,KAAM,GADDqB,EAAYE,EAAWC,CACf,KAAKzB,CAAQ,IACpC,qECnJM0B,EAAqB,mDAErBC,GAA+E,CACnF,sCAAyCC,CAAC,CAACxC,YAAAA,EAAavB,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjGC,KAAM,UACNC,QAASA,IAAMC,EAAK7C,EAAc,8BAAgC,4BAA6B,CAACyC,EAAchC,CAAM,EAAGhC,EAAOqE,SAAS,CAAC,EACxIC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,8BAAgC,4BAA6B,GAAM,CAACa,EAAWpC,EAAOqE,SAAS,CAAC,CAC3I,CACF,GACA,sCAAyCG,CAAC,CAACjD,YAAAA,EAAavB,OAAAA,EAAQiE,MAAAA,EAAOjC,OAAAA,EAAQgC,cAAAA,EAAeS,qBAAAA,EAAsBC,MAAAA,CAAK,KAAO,CAC9HR,KAAM,UACNS,YAAad,EACbM,QAASA,IACP,EAAA,IAAA,CAAA,MAAAlH,EAAAc,KAAAP,OAAAA,EAAAP,EAAAQ,EAGOmH,EAAO,CAAC1D,IAAKK,EAAc,8BAAgC,4BAA2B,IAAEsD,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,CAAC,CAAC,CAAA,CAAA,CAAA,EAAA/E,IAAAQ,EAAAA,EAEvHV,EAA2B,CAAA,IAC1BkB,MAAI,CAAA,OAAEwB,EAAsBwE,EAAMhG,IAAI,CAAC,EAAA,IACvCL,MAAI,CAAA,OAAE8G,EAAQ,KAAOD,EAAqBzC,CAAM,CAAC,EAAA,IAAAnE,UAAA,CAAA,MAAAY,CAAAA,GAEhDqG,IAAAA,GAAa9E,EAAOqE,SAAS,CAAC,EAAA5G,EAC9BsH,EAAK,CAACC,OAAM,SAAAvH,EAAAA,EACZa,EAAK,CACJU,YAAagD,EAAM,IACnB/C,OAAK,CAAA,OAAEmF,EAAK,wCAAwC,CAAC,EAAA,IACrDjF,MAAI,CAAA,OAAEa,EAAOiF,UAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAMjCX,YAAaA,IAAM/B,GACjB0B,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,8BAAgC,4BAA6B,GAAM,CAACa,CAAS,CAAC,EACvHpC,EAAOqE,UACPrE,EAAOiF,WACP,IAAM7D,EAAKmD,OAAO,yCAA0C,EAAI,CAClE,CACF,GACA,yCAA4CW,CAAC,CAAC3D,YAAAA,EAAa0C,MAAAA,EAAOjE,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeS,qBAAAA,EAAsBC,MAAAA,CAAK,KAAO,CACjIR,KAAM,UACNS,YAAad,EACbM,QAASA,IAAM,CACb,MAAMgB,EACDnF,EAAOqE,UACD9C,EAAc,6BAA+B,2BAE7CA,EAAc,8BAAgC,4BAInD6D,GAAU,IAAM,CACpB,GAAG,CAACpF,EAAOqE,UAAW,OACtB,MAAMgB,EAAQ,QAAOrF,EAAOqE,SAAU,GAEhCe,EAASE,GAAwBD,CAAI,EAC3CD,OAAAA,EAAOG,YAAcF,EAEdD,CACT,KAEA,MAAA,EAAA,IAAA,CAAA,MAAAjI,EAAAY,KAAAP,OAAAA,EAAAL,EAAAM,EAGOmH,EAAO,CAAC1D,IAAKiE,EAAc,IAAEN,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,CAAC,CAAC,CAAA,CAAA,CAAA,EAAA7E,IAAAM,EAAAA,EAE5DV,EAA2B,CAAA,IAC1BkB,MAAI,CAAA,OAAEwB,EAAsBwE,EAAMhG,IAAI,CAAC,EAAA,IACvCL,MAAI,CAAA,OAAE8G,EAAQ,KAAOD,EAAqBzC,CAAM,CAAC,EAAA,IAAAnE,UAAA,CAAA,MAAAJ,CAAAA,EAEhDC,EAAI,CAACC,KAAMyH,EAAM,IAAAvH,UAAA,CAAA,MAAA,CACfuH,EAAM3H,EACNsH,EAAK,CAACC,OAAM,QAAA,CAAA,CAAA,CAAA,EAAAvH,EAAAA,EAEdC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEqC,EAAOiF,UAAU,EAAA,IAAApH,UAAA,CAAA,OAAAJ,EAC1Ba,EAAK,CACJU,YAAagD,EAAM,IACnB/C,OAAK,CAAA,OAAEmF,EAAK,iCAAiC,CAAC,EAAA,IAC9CjF,MAAI,CAAA,MAAG,gBAAea,EAAOiF,UAAW,EAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAMpD,EACDX,YAAaA,IAAMxB,GACjBmB,EAAMhG,KACN+D,EACA,CAACI,EAAWD,IAAa,CACvB,MAAMgD,EAA8BnF,EAAOqE,UACxC9C,EAAc,6BAA+B,2BAC7CA,EAAc,8BAAgC,4BAC3CsB,EAAgBzB,EAAKmD,OAAO,kCAAmC,EAAI,EACnEiB,EAAQ,CAAE,GAAEpE,EAAKmD,OAAOY,EAAgB,GAAM,CAAC/C,CAAS,CAAC,CAAE,KAAID,CAAS,GAAE,EAChF,OAAGnC,EAAOqE,WACRmB,EAAMC,KAAM,gBAAezF,EAAOqE,SAAU,EAAC,EAE5CrE,EAAOiF,YACRO,EAAMC,KAAM,GAAE5C,CAAc,kBAAiB7C,EAAOiF,UAAW,EAAC,EAE3DO,EAEX,CACF,GACA,sCAAyCE,CAAC,CAACnE,YAAAA,EAAaS,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACzFC,KAAM,UACNC,QAASA,IAAMC,EAAK7C,EAAc,8BAAgC,4BAA6B,CAACyC,EAAchC,CAAM,CAAC,CAAC,EACtHsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,8BAAgC,4BAA6B,GAAM,CAACa,CAAS,CAAC,CACzH,CACF,GACA,wCAA2CuD,CAAC,CAAC3F,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACtFC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,gCAAkC,iCAAkC,CAACL,EAAchC,CAAM,CAAC,CAAC,EAClIsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOvE,EAAOqE,UAAY,gCAAkC,iCAAkC,GAAM,CAACjC,CAAS,CAAC,CACrI,CACF,GACA,2CAA8CwD,CAAC,CAAC5F,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACzFC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,mCAAqC,oCAAqC,CAACL,EAAchC,CAAM,CAAC,CAAC,EACxIsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOvE,EAAOqE,UAAY,mCAAqC,oCAAqC,GAAM,CAACjC,CAAS,CAAC,CAC3I,CACF,GACA,uCAA0CyD,CAAC,CAAC7F,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,IAAM6B,EAAU9F,EAAO6B,OAAO,EAAK,CACjHqC,KAAM,UACNrC,QAAS7B,EAAO6B,QAChBkE,eAAgBA,IAAM,CACpB,MAAMC,EAAShG,EAAO6B,QAAQoE,IAAM,WAAajG,EAAO6B,QAAQqE,QAAQF,OACxE,OAAO5B,EAAK4B,EAAS,yBAA2B,2BAA4B,CAAChC,EAAchC,CAAM,CAAC,CAAC,CACpG,EACDsC,YAAaA,IAAM,CACjB,MAAM0B,EAAShG,EAAO6B,QAAQoE,IAAM,WAAajG,EAAO6B,QAAQqE,QAAQF,OACxE,OAAO3D,EACL4B,EAAMhG,KACN+D,EACAhC,EAAO6B,QACNO,GAAchB,EAAKmD,OAAOyB,EAAS,yBAA2B,2BAA4B,GAAM,CAAC5D,CAAS,CAAC,CAC9G,CACF,CACF,EAAK,KACL,sCAAyC+D,CAAC,CAACnG,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,IAAM6B,EAAU9F,EAAOoG,WAAW,EAAK,CACpHlC,KAAM,UACNrC,QAAS7B,EAAOoG,YAChBpH,YAAagD,EACbqE,gBAAiBP,EAAU9F,EAAOsG,YAAY,EAAItG,EAAOsG,aAAe,KACxEP,eAAgBA,IAAM3B,EAAK,yBAA0B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC5EsC,YAAaA,IAAMtB,GACjBiB,EAAMhG,KACN+D,EACAhC,EAAOoG,YACPpG,EAAOsG,aACNlE,GAAchB,EAAKmD,OAAO,yBAA0B,GAAM,CAACnC,CAAS,CAAC,EACtE,IAAMhB,EAAKmD,OAAO,qCAAsC,EAAI,CAC9D,CACF,EAAK,KACL,wCAA2CgC,CAAC,CAACvG,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,IAAM6B,EAAU9F,EAAO6B,OAAO,EAAK,CAClHqC,KAAM,UACNrC,QAAS7B,EAAO6B,QAChBkE,eAAgBA,IAAM3B,EAAK,0BAA2B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC7EsC,YAAaA,IAAMjC,EACjB4B,EAAMhG,KACN+D,EACAhC,EAAO6B,QACNO,GAAchB,EAAKmD,OAAO,0BAA2B,GAAM,CAACnC,CAAS,CAAC,CACzE,CACF,EAAK,KACL,0CAA6CoE,CAAC,CAACjF,YAAAA,EAAaS,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC7FC,KAAM,UACNC,QAASA,IAAMC,EAAK7C,EAAc,oCAAsC,kCAAmC,CAACyC,EAAchC,CAAM,CAAC,CAAC,EAClIsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,oCAAsC,kCAAmC,GAAM,CAACa,CAAS,CAAC,CACrI,CACF,GACA,2CAA8CqE,CAAC,CAAClF,YAAAA,EAAaS,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC9FC,KAAM,UACNC,QAASA,IAAMC,EAAK7C,EAAc,kCAAoC,gCAAiC,CAACyC,EAAchC,CAAM,CAAC,CAAC,EAC9HsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,kCAAoC,gCAAiC,GAAM,CAACa,CAAS,CAAC,CACjI,CACF,GACA,4CAA+CsE,CAAC,CAAC1E,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC1FC,KAAM,UACNC,QAASA,IAAMC,EAAK,8BAA+B,CAACJ,EAAchC,CAAM,EAAGgC,EAAcpD,EAAqBZ,EAAO2G,WAAW,CAAC,CAAC,CAAC,EACnIrC,YAAaA,IAAMjB,EACjBY,EAAMhG,KACN+D,EACApB,EAAqBZ,EAAO2G,WAAW,EACvC,CAACvE,EAAWwE,IAAqBxF,EAAKmD,OAAO,8BAA+B,GAAM,CAACnC,EAAWwE,CAAgB,CAAC,CACjH,CACF,GACA,+CAAkDC,CAAC,CAAC5C,MAAAA,EAAOjE,OAAAA,EAAQC,UAAAA,EAAW+B,OAAAA,EAAQyC,qBAAAA,EAAsBT,cAAAA,EAAeU,MAAAA,CAAK,KAAO,CACrIR,KAAM,UACNS,YAAad,EACbM,QAASA,IAAM,CACb,MAAMhE,EAAWC,GAAoBJ,EAAO8G,eAAe,EACrD,CAAC5G,gBAAAA,CAAgB,EAAG1B,EAAiB,EAErC6B,EAAwBL,EAAO+G,kBAAkBd,IAAM,2BAA6BjG,EAAO+G,iBAAmBC,OAC9G1G,EAAuBN,EAAO8G,iBAAiBb,IAAM,2BAA6BjG,EAAO8G,gBAAkBE,OAE3GzG,EAAUL,EAAgB+G,QAAQhH,CAAS,EAE3CO,EAAuBC,GAC3BF,GAAS0F,IAAM,WAAaxF,EAC1BC,GAAsCH,EAASE,CAAM,EACrDA,EAEEE,EAAoBC,EAAqBZ,EAAO+G,kBAAoB/G,EAAO8G,eAAe,EAG1FhG,EADkBZ,EAAgBgH,QAAQvG,EAAkBwG,SAAU,CAAA,GAC1CrG,UAAY,GAExCC,EAAOC,EACXR,EAAoBH,GAAuB+G,aAAa,GAAGlB,OAC3D1F,EAAoBF,GAAsB8G,aAAa,GAAGlB,MAC5D,EAGMjF,EAAUF,EAAKsG,IAAIC,IAAIpG,GAAOC,EAAqBD,CAAG,CAAC,EAC5DqG,OAAOC,OAAO,EAAEF,IAAIpG,GAAOkD,EAAKlD,CAAG,CAAC,EAE/BG,GAAQN,EAAK0G,IAAIH,IAAIpG,GAAOC,EAAqBD,CAAG,CAAC,EAC1DqG,OAAOC,OAAO,EAAEF,IAAIpG,GAAOkD,EAAKlD,CAAG,CAAC,EAGrC,OAAAzD,EAEKV,EAA2B,CAAA,IAC1BkB,MAAI,CAAA,OAAEwB,EAAsBwE,EAAMhG,IAAI,CAAC,EAAA,IACvCL,MAAI,CAAA,OAAE8G,EAAQ,KAAOD,EAAqBzC,CAAM,CAAC,EAAA,IAAAnE,UAAA,CAAA,MAAAJ,CAAAA,EAEhDC,EAAI,CAACC,KAAMwC,EAAQ,IAAAtC,UAAA,CAAA,OAAAJ,EACjBmH,EAAO,CACN1D,IAAKJ,EAAW,qCAAuC,6BAA4B,IACnF+D,MAAI,CAAA,MAAE,CAAC6C,EAAU1D,EAAcrD,CAAiB,CAAC,EAAGG,EAAW4G,EAAW,IAAG5G,CAAS,EAAC,EAAI,EAAE,CAAC,CAAA,CAAA,CAAA,EAAArD,EAAAA,EAGjGC,EAAI,CAACC,KAAM,CAACwC,EAAQ,IAAAtC,UAAA,CAAA,OAAAJ,EAClBmH,EAAO,CACN1D,IAAKJ,EAAW,iDAAmD,yCAAwC,IAC3G+D,MAAI,CAAA,MAAE,CAAC6C,EAAU1D,EAAcrD,CAAiB,CAAC,EAAGG,EAAW4G,EAAW,IAAG5G,CAAS,EAAC,EAAI,EAAE,CAAC,CAAA,CAAA,CAAA,EAAArD,EAAAA,EAGjGC,EAAI,CAACC,KAAM,CAACwC,EAAQ,IAAAtC,UAAA,CAAA,MAAAJ,CAAAA,EAClBsH,EAAK,CAACC,OAAM,SAAAvH,EAAAA,EACZkK,EAAG,CAACC,KAAMvG,GAAKxD,SACbqD,IAAG,IAAA,CAAApD,MAAAA,EAAAZ,IAAAY,OAAAA,EAAAV,WAAAI,EAAAM,EAAYoD,EAAG,IAAA,EAAApD,CAAA,GAAA,EAAOL,EAAAA,EAE3BkK,EAAG,CAACC,KAAM3G,EAAOpD,SACfqD,IAAG,IAAA,CAAA5D,MAAAA,EAAAuK,IAAAvK,OAAAA,EAAAF,WAAAI,EAAAF,EAAY4D,EAAG,IAAA,EAAA5D,CAAA,GAAA,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAMrC,EACDgH,YAAa,SAAW,CACtB,MAAMnC,EAAW5C,EAAmB0E,EAAMhG,IAAI,EACxC,CAACiC,gBAAAA,EAAiBgC,aAAAA,CAAa,EAAG1D,EAAiB,EACnD,CAAC2B,SAAAA,EAAUQ,kBAAAA,EAAmBU,MAAAA,EAAOJ,QAAAA,CAAQ,EAAGlB,GAAkBC,EAAQC,EAAWC,CAAe,EACpG4H,EAAkB,MAAM5F,EAAa,CAACF,OAAQrB,EAAmBoH,UAAW,EAAI,CAAC,EAGjFvC,EAAQ,CAAE,GAFE,MAAMtD,EAAa,CAACF,OAAAA,EAAQ+F,UAAW,EAAI,CAAC,CAElC,KAAI5F,CAAS,GAAE,EAC3CqD,OAAAA,EAAMC,KAAKrE,EAAKmD,OAAOpE,EAAW,6BAA+B,yCAA0C,GAAM,CAAC2H,CAAe,CAAC,CAAC,EACnIzG,EAAM2G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAC7ChH,EAAQ+G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAExC,CAAC9I,KAAMqG,EAAM0C,KAAK;AAAA,CAAI,EAC/B,CACF,GACA,iDAAoDC,CAAC,CAAClE,MAAAA,EAAOjE,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeS,qBAAAA,EAAsBlD,YAAAA,EAAamD,MAAAA,CAAK,KAAO,CACzIR,KAAM,UACNS,YAAad,EACbM,QAASA,IAAM,CACb,KAAM,CAACjE,gBAAAA,CAAgB,EAAG1B,EAAiB,EAErCgD,EAAwB,iBAAkBxB,EAAO+G,iBAAmB/G,EAAO+G,iBAAiBqB,aAAe,KAC3G3G,EAAuB,iBAAkBzB,EAAO8G,gBAAkB9G,EAAO8G,gBAAgBsB,aAAe,KAExGrH,EAAOC,EAAUQ,GAAuB0E,OAAQzE,GAAsByE,MAAM,EAC5EvF,EAAoBC,EAAqBZ,EAAO+G,kBAAoB/G,EAAO8G,eAAe,EAG1FhG,EADkBZ,EAAgBgH,QAAQvG,EAAkBwG,SAAU,CAAA,GAC1CrG,UAAY,GAExCO,EAAQN,EAAKsG,IAAIC,IAAIpG,GAAOkD,EAAK1C,EAA0BR,EAAK,CAACK,YAAAA,CAAY,CAAA,CAAC,CAAC,EAC/EN,EAAUF,EAAK0G,IAAIH,IAAIpG,GAAOkD,EAAK1C,EAA0BR,EAAK,CAACK,YAAAA,CAAY,CAAA,CAAC,CAAC,EAEvF,OAAA9D,EAEKV,EAA2B,CAAA,IAC1BkB,MAAI,CAAA,OAAEwB,EAAsBwE,EAAMhG,IAAI,CAAC,EAAA,IACvCL,MAAI,CAAA,OAAE8G,EAAQ,KAAOD,EAAqBzC,CAAM,CAAC,EAAA,IAAAnE,UAAA,CAAA,MAAAJ,CAAAA,EAEhDmH,EAAO,CACN1D,IAAKJ,EAAW,2CAA6C,mCAAkC,IAC/F+D,MAAI,CAAA,MAAE,CAAC6C,EAAU1D,EAAcrD,CAAiB,CAAC,EAAGG,EAAW4G,EAAW,IAAG5G,CAAS,EAAC,EAAI,EAAE,CAAC,EAAArD,EAAAA,EAE/FsH,EAAK,CAACC,OAAM,SAAAvH,EAAAA,EACZkK,EAAG,CAACC,KAAMvG,EAAKxD,SACbqD,IAAG,IAAA,CAAAmH,MAAAA,EAAAnL,IAAAmL,OAAAA,EAAAjL,WAAAI,EAAA6K,EAAYnH,EAAG,IAAA,EAAAmH,CAAA,GAAA,EAAO5K,EAAAA,EAE3BkK,EAAG,CAACC,KAAM3G,EAAOpD,SACfqD,IAAG,IAAA,CAAAoH,MAAAA,EAAAT,IAAAS,OAAAA,EAAAlL,WAAAI,EAAA8K,EAAYpH,EAAG,IAAA,EAAAoH,CAAA,GAAA,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAKnC,EACDhE,YAAa,SAAW,CACtB,MAAMnC,EAAW5C,EAAmB0E,EAAMhG,IAAI,EACxC,CAACiC,gBAAAA,EAAiBgC,aAAAA,CAAa,EAAG1D,EAAiB,EACnD,CAACmC,kBAAAA,EAAmBU,MAAAA,EAAOJ,QAAAA,CAAQ,EAAGK,GAAoBtB,EAAQE,EAAiBqB,CAAW,EAC9FuG,EAAkB,MAAM5F,EAAa,CAACF,OAAQrB,EAAmBoH,UAAW,EAAI,CAAC,EAGjFvC,EAAQ,CAAE,GAFE,MAAMtD,EAAa,CAACF,OAAAA,EAAQ+F,UAAW,EAAI,CAAC,CAElC,KAAI5F,CAAS,GAAE,EAC3CqD,OAAAA,EAAMC,KAAKrE,EAAKmD,OAAO,mCAAoC,GAAM,CAACuD,CAAe,CAAC,CAAC,EACnFzG,EAAM2G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAC7ChH,EAAQ+G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAExC,CAAC9I,KAAMqG,EAAM0C,KAAK;AAAA,CAAI,EAC/B,CACF,GACA,2CAA8CK,CAAC,CAACvG,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjFC,KAAM,UACNC,QAASA,IAAMC,EAAK,4BAA6B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACxEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,4BAA6B,GAAM,CAACnC,CAAS,CAAC,CAC3E,CACF,GACA,iDAAoDoG,CAAC,CAACxI,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC/FC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,yCAA2C,0CAA2C,CAACL,EAAchC,CAAM,CAAC,CAAC,EACpJsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,yCAA0C,GAAM,CAACnC,CAAS,CAAC,EACjFwB,UAAWxC,EAAKmD,OAAO,0CAA2C,GAAM,CAACnC,CAAS,CAAC,CACrF,EACF,CACF,GACA,8CAAiDqG,CAAC,CAACxE,MAAAA,EAAOjE,OAAAA,EAAQgC,OAAAA,EAAQyC,qBAAAA,EAAsBC,MAAAA,CAAK,KAAO,CAC1GR,KAAM,UACNS,YAAad,EACbM,QAASA,IAAM,CACb,MAAMpD,EAAOC,EAAUhB,EAAO0I,oBAAoBxC,OAAQlG,EAAO2I,mBAAmBzC,MAAM,EAEpF7E,EAAQN,EAAK0G,IAAIH,IAAIpG,GAAOC,EAAqBD,CAAG,CAAC,EAC1DqG,OAAOC,OAAO,EAAEF,IAAIpG,GAAOkD,EAAKlD,CAAG,CAAC,EAE/BD,EAAUF,EAAKsG,IAAIC,IAAIpG,GAAOC,EAAqBD,CAAG,CAAC,EAC5DqG,OAAOC,OAAO,EAAEF,IAAIpG,GAAOkD,EAAKlD,CAAG,CAAC,EAErC,OAAAzD,EAEKV,EAA2B,CAAA,IAC1BkB,MAAI,CAAA,OAAEwB,EAAsBwE,EAAMhG,IAAI,CAAC,EAAA,IACvCL,MAAI,CAAA,OAAE8G,EAAQ,KAAOD,EAAqBzC,CAAM,CAAC,EAAA,IAAAnE,UAAA,CAAA,MAAAJ,CAAAA,EAEhDmH,EAAO,CAAC1D,IAAK,sCAAqCzD,EAAAA,EAClDsH,EAAK,CAACC,OAAM,SAAAvH,EAAAA,EACZkK,EAAG,CAACC,KAAMvG,EAAKxD,SACbqD,IAAG,IAAA,CAAA0H,MAAAA,EAAA1L,IAAA0L,OAAAA,EAAAxL,WAAAI,EAAAoL,EAAY1H,EAAG,IAAA,EAAA0H,CAAA,GAAA,EAAOnL,EAAAA,EAE3BkK,EAAG,CAACC,KAAM3G,EAAOpD,SACfqD,IAAG,IAAA,CAAA2H,MAAAA,EAAAhB,IAAAgB,OAAAA,EAAAzL,WAAAI,EAAAqL,EAAY3H,EAAG,IAAA,EAAA2H,CAAA,GAAA,CAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAKnC,EACDvE,YAAa,SAAW,CACtB,KAAM,CAACpC,aAAAA,CAAa,EAAG1D,EAAiB,EAClC2D,EAAW5C,EAAmB0E,EAAMhG,IAAI,EACxCmE,EAAY,MAAMF,EAAa,CAACF,OAAAA,EAAQ+F,UAAW,EAAI,CAAC,EACxD,CAAC1G,MAAAA,EAAOJ,QAAAA,CAAO,EAAIU,GAA4B3B,CAAM,EAErDwF,EAAQ,CAAE,GAAEpD,CAAU,KAAID,CAAS,GAAE,EAC3CqD,OAAAA,EAAMC,KAAKrE,EAAKmD,OAAO,sCAAuC,GAAM,CAACnC,CAAS,CAAC,CAAC,EAChFf,EAAM2G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAC7ChH,EAAQ+G,QAAQC,GAAQzC,EAAMC,KAAM,KAAIwC,CAAK,EAAC,CAAC,EAExC,CAAC9I,KAAMqG,EAAM0C,KAAK;AAAA,CAAI,EAC/B,CACF,GACA,mCAAuCY,CAAC,CAAC9I,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,IAAM6B,EAAU9F,EAAO6B,OAAO,EAAK,CAC9GqC,KAAM,UACNrC,QAAS7B,EAAO6B,QAChBkE,eAAgBA,IAAM3B,EAAK,uBAAwB,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC1EsC,YAAaA,IAAMjC,EACjB4B,EAAMhG,KACN+D,EACAhC,EAAO6B,QACNO,GAAchB,EAAKmD,OAAO,uBAAwB,GAAM,CAACnC,CAAS,CAAC,CACtE,CACF,EAAK,KACL,2CAA8C2G,CAAC,CAAC/G,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjFC,KAAM,UACNC,QAASA,IAAMC,EAAK,4BAA6B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACxEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,4BAA6B,GAAM,CAACnC,CAAS,CAAC,CAC3E,CACF,GACA,yCAA4C4G,CAAC,CAACzH,YAAAA,EAAaS,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC5FC,KAAM,UACNC,QAASA,IAAMC,EAAK7C,EAAc,iCAAmC,+BAAgC,CAACyC,EAAchC,CAAM,CAAC,CAAC,EAC5HsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAOhD,EAAc,iCAAmC,+BAAgC,GAAM,CAACa,CAAS,CAAC,CAC/H,CACF,GACA,yCAA4C6G,CAAC,CAACjJ,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACvFC,KAAM,UACNC,QAASA,IAAM,CACb,GAAGnE,EAAOqE,UAAW,CACnB,MAAM6E,EAAWrJ,EAAsBC,EAAeE,EAAOqE,SAAS,CAAC,EACvE,OAAOD,EAAK,6BAA8B,CAACJ,EAAchC,CAAM,EAAGkH,CAAQ,CAAC,CAC7E,KACE,QAAO9E,EAAK,kCAAmC,CAACJ,EAAchC,CAAM,CAAC,CAAC,CAEzE,EACDsC,YAAa,SAAW,CACtB,KAAM,CAACpC,aAAAA,CAAa,EAAG1D,EAAiB,EAClC2D,EAAW5C,EAAmB0E,EAAMhG,IAAI,EACxCmE,EAAY,MAAMF,EAAa,CAACF,OAAAA,EAAQ+F,UAAW,EAAI,CAAC,EAC9D,GAAG/H,EAAOqE,UAAW,CACnB,MAAM6E,EAAWvJ,EAAqBK,EAAOqE,SAAS,EAEtD,MAAO,CAAClF,KAAO,GADFiC,EAAKmD,OAAO,6BAA8B,GAAM,CAACnC,EAAW8G,CAAQ,CAAC,CAC5D,KAAI/G,CAAS,IACrC,KAEE,OAAO,CAAChD,KAAO,GADFiC,EAAKmD,OAAO,kCAAmC,GAAM,CAACnC,CAAS,CAAC,CACvD,KAAID,CAAS,IAEvC,CACF,GACA,yCAA4CgH,CAAC,CAACnH,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC/EC,KAAM,UACNC,QAASA,IAAMC,EAAK,0BAA2B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACtEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,0BAA2B,GAAM,CAACnC,CAAS,CAAC,CACzE,CACF,GACA,2CAA8CgH,CAAC,CAACpH,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjFC,KAAM,UACNC,QAASA,IAAMC,EAAK,4BAA6B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACxEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,4BAA6B,GAAM,CAACnC,CAAS,CAAC,CAC3E,CACF,GACA,0CAA6CiH,CAAC,CAACrH,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACxFC,KAAM,UACNC,QAASA,IAAMC,EAAK,4BAA6B,CAACJ,EAAcsF,EAAUtJ,EAAO2G,aAAa4C,IAAI,CAAC,EAAGvF,EAAchC,CAAM,CAAC,CAAC,EAC5HsC,YAAaA,IAAMjB,EACjBY,EAAMhG,KACNqL,EAAUtJ,EAAO2G,aAAa4C,IAAI,EAClCvH,EACA,CAAC4E,EAAkBxE,IAAchB,EAAKmD,OAAO,4BAA6B,GAAM,CAACqC,EAAkBxE,CAAS,CAAC,CAC/G,CACF,GACA,4CAA+CoH,CAAC,CAACxH,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC1FC,KAAM,UACNC,QAASA,IAAMC,EAAK,8BAA+B,CAACJ,EAAcsF,EAAUtJ,EAAO2G,aAAa4C,IAAI,CAAC,EAAGvF,EAAchC,CAAM,CAAC,CAAC,EAC9HsC,YAAaA,IAAMjB,EACjBY,EAAMhG,KACNqL,EAAUtJ,EAAO2G,aAAa4C,IAAI,EAClCvH,EACA,CAAC4E,EAAkBxE,IAAchB,EAAKmD,OAAO,8BAA+B,GAAM,CAACqC,EAAkBxE,CAAS,CAAC,CACjH,CACF,GACA,iDAAoDqH,CAAC,CAACzJ,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC/FC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAO0J,WAAa,yCAA2C,0CAA2C,CAAC1F,EAAchC,CAAM,CAAC,CAAC,EACrJsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAO0J,WACNtH,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,yCAA0C,GAAM,CAACnC,CAAS,CAAC,EACjFwB,UAAWxC,EAAKmD,OAAO,0CAA2C,GAAM,CAACnC,CAAS,CAAC,CACrF,EACF,CACF,GACA,kDAAqDuH,CAAC,CAAC3H,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACxFC,KAAM,UACNC,QAASA,IAAMC,EAAK,qCAAsC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACjFsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,qCAAsC,GAAM,CAACnC,CAAS,CAAC,CACpF,CACF,GACA,+CAAkDwH,CAAC,CAAC5H,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACrFC,KAAM,UACNC,QAASA,IAAMC,EAAK,iCAAkC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC7EsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,iCAAkC,GAAM,CAACnC,CAAS,CAAC,CAChF,CACF,GACA,+CAAkDyH,CAAC,CAAC7H,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACrFC,KAAM,UACNC,QAASA,IAAMC,EAAK,iCAAkC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC7EsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,iCAAkC,GAAM,CAACnC,CAAS,CAAC,CAChF,CACF,GACA,6CAAgD0H,CAAC,CAAC9H,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACnFC,KAAM,UACNC,QAASA,IAAMC,EAAK,8BAA+B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC1EsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,8BAA+B,GAAM,CAACnC,CAAS,CAAC,CAC7E,CACF,GACA,4CAA+C2H,CAAC,CAAC/H,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC1FC,KAAM,UACNC,QAASA,IAAMC,EAAK,oCAAqC,CAACJ,EAAcsF,EAAUtJ,EAAO2G,aAAa4C,IAAI,CAAC,EAAGvF,EAAchC,CAAM,CAAC,CAAC,EACpIsC,YAAaA,IAAMjB,EACjBY,EAAMhG,KACNqL,EAAUtJ,EAAO2G,aAAa4C,IAAI,EAClCvH,EACA,CAAC4E,EAAkBxE,IAAchB,EAAKmD,OAAO,oCAAqC,GAAM,CAACqC,EAAkBxE,CAAS,CAAC,CACvH,CACF,GACA,2CAA8C4H,CAAC,CAAChK,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACzFC,KAAM,UACNC,QAASA,IAAM,CACb,GAAGnE,EAAOqE,UAAW,CACnB,MAAM6E,EAAWrJ,EAAsBC,EAAeE,EAAOqE,SAAS,CAAC,EACvE,OAAOD,EAAK,mCAAoC,CAACJ,EAAchC,CAAM,EAAGkH,CAAQ,CAAC,CACnF,KACE,QAAO9E,EAAK,oCAAqC,CAACJ,EAAchC,CAAM,CAAC,CAAC,CAE3E,EACDsC,YAAa,SAAW,CACtB,KAAM,CAACpC,aAAAA,CAAa,EAAG1D,EAAiB,EAClC2D,EAAW5C,EAAmB0E,EAAMhG,IAAI,EACxCmE,EAAY,MAAMF,EAAa,CAACF,OAAAA,EAAQ+F,UAAW,EAAI,CAAC,EAC9D,GAAG/H,EAAOqE,UAAW,CACnB,MAAM6E,EAAWvJ,EAAqBK,EAAOqE,SAAS,EAEtD,MAAO,CAAClF,KAAO,GADFiC,EAAKmD,OAAO,mCAAoC,GAAM,CAACnC,EAAW8G,CAAQ,CAAC,CAClE,KAAI/G,CAAS,IACrC,KAEE,OAAO,CAAChD,KAAO,GADFiC,EAAKmD,OAAO,oCAAqC,GAAM,CAACnC,CAAS,CAAC,CACzD,KAAID,CAAS,IAEvC,CACF,GACA,mDAAsD8H,CAAC,CAACjI,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjGC,KAAM,UACNC,QAASA,IAAMC,EAAK,sCAAuC,CAACJ,EAAchC,CAAM,EAAGgC,EAAchE,EAAOkK,YAAYC,SAAQ,CAAE,CAAC,CAAC,EAChI7F,YAAaA,IAAMjB,EACjBY,EAAMhG,KACN+D,EACAhC,EAAOkK,YAAYC,SAAU,EAC7B,CAAC/H,EAAWgI,IAAoBhJ,EAAKmD,OAAO,sCAAuC,GAAM,CAACnC,EAAWgI,CAAe,CAAC,CACvH,CACF,GACA,2CAA8CC,CAAC,CAACrK,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACzFC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,mCAAqC,oCAAqC,CAACL,EAAchC,CAAM,CAAC,CAAC,EACxIsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,mCAAoC,GAAM,CAACnC,CAAS,CAAC,EAC3EwB,UAAWxC,EAAKmD,OAAO,oCAAqC,GAAM,CAACnC,CAAS,CAAC,CAC/E,EACF,CACF,GACA,sCAAyCkI,CAAC,CAACtK,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,IAAM6B,EAAU9F,EAAO6B,OAAO,EAAK,CAChHqC,KAAM,UACNrC,QAAS7B,EAAO6B,QAChBkE,eAAgBA,IAAM3B,EAAK,uBAAwB,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC1EsC,YAAaA,IAAMjC,EACjB4B,EAAMhG,KACN+D,EACAhC,EAAO6B,QACNO,GAAchB,EAAKmD,OAAO,uBAAwB,GAAM,CAACnC,CAAS,CAAC,CACtE,CACF,EAAK,KACL,mDAAsDmI,CAAC,CAACvI,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACzFC,KAAM,UACNC,QAASA,IAAMC,EAAK,oCAAqC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAChFsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,oCAAqC,GAAM,CAACnC,CAAS,CAAC,CACnF,CACF,GACA,0CAA6CoI,CAAC,CAACxI,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAChFC,KAAM,UACNC,QAASA,IACPC,EAAK,2BAA4B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC1DsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,2BAA4B,GAAM,CAACnC,CAAS,CAAC,CAC1E,CACF,GACA,sCAAyCqI,CAAC,CAACzK,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACpFC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,8BAAgC,+BAAgC,CAACL,EAAchC,CAAM,CAAC,CAAC,EAC9HsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,8BAA+B,GAAM,CAACnC,CAAS,CAAC,EACtEwB,UAAWxC,EAAKmD,OAAO,+BAAgC,GAAM,CAACnC,CAAS,CAAC,CAC1E,EACF,CACF,GACA,sCAAyCsI,CAAC,CAAC1I,OAAAA,EAAQhC,OAAAA,EAAQgE,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACpFC,KAAM,UACNC,QAASA,IAAA1G,EAAOmH,EAAO,CAAC1D,IAAG,wBAAA,IAAyB2D,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,EAACvE,EAAGkN,EAAS,CAAA,IAACC,OAAK,CAAA,OAAE5K,EAAO4K,KAAK,CAAK,CAAA,CAAA,CAAA,EAAI,EACzHtG,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAc,CACb,MAAMyI,EAAa7K,EAAO4K,MAAM3E,IAAM,oBAAsB,GAAKjG,EAAO4K,MAAM3L,MAC9E,OAAOmC,EAAKmD,OAAO,wBAAyB,GAAM,CAACnC,EAAWyI,CAAU,CAAC,EAE7E,CACF,GACA,oCAAuCC,CAAC,CAAC9I,OAAAA,EAAQgC,cAAAA,EAAehE,OAAAA,EAAQiE,MAAAA,CAAK,KAAO,CAClFC,KAAM,UACNC,QAASA,IAAA1G,EAAOmH,EAAO,CAAC1D,IAAG,uBAAA,IAAwB2D,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,EAACvE,EAAGkN,EAAS,CAAA,IAACC,OAAK,CAAA,OAAE5K,EAAO+K,SAAS,CAAK,CAAA,CAAA,CAAA,EAAI,EAC5HzG,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAc,CACb,MAAMyI,EAAa7K,EAAO+K,UAAU9E,IAAM,oBAAsB,GAAKjG,EAAO+K,UAAU9L,MACtF,OAAOmC,EAAKmD,OAAO,uBAAwB,GAAM,CAACnC,EAAWyI,CAAU,CAAC,EAE5E,CACF,GACA,sCAAyCG,CAAC,CAAChJ,OAAAA,EAAQgC,cAAAA,EAAehE,OAAAA,EAAQiE,MAAAA,CAAK,KAAO,CACpFC,KAAM,UACNC,QAASA,IAAA1G,EAAOmH,EAAO,CAAC1D,IAAG,wBAAA,IAAyB2D,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,EAACvE,EAAGkN,EAAS,CAAA,IAACC,OAAK,CAAA,OAAE5K,EAAO4K,KAAK,CAAK,CAAA,CAAA,CAAA,EAAI,EACzHtG,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAc,CACb,MAAMyI,EAAa7K,EAAO4K,MAAM3E,IAAM,oBAAsB,GAAKjG,EAAO4K,MAAM3L,MAC9E,OAAOmC,EAAKmD,OAAO,wBAAyB,GAAM,CAACnC,EAAWyI,CAAU,CAAC,EAE7E,CACF,GACA,mCAAsCI,CAAC,CAACjL,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACjFC,KAAM,UACNC,QAASA,IAAM,CACb,MAAM6B,EAAS,CAAC,CAAChG,EAAO+K,UAClBH,EAAQ5K,EAAO+K,UAAY/K,EAAO+K,UAAY/K,EAAOkL,WAE3D,OAAAzN,EAAQmH,EAAO,CAAC1D,IAAK8E,EAAS,uBAAyB,yBAAwB,IAAEnB,MAAI,CAAA,MAAE,CAACb,EAAchC,CAAM,EAACvE,EAAGkN,EAAS,CAACC,MAAOA,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAC5I,EACDtG,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAc,CACb,MAAM4D,EAAS,CAAC,CAAChG,EAAO+K,UAClBH,EAAQ5K,EAAO+K,UAAY/K,EAAO+K,UAAY/K,EAAOkL,WACrDL,EAAaD,EAAM3E,IAAM,aAAe2E,EAAM3L,MAAQ,GAC5D,OAAOmC,EAAKmD,OAAOyB,EAAS,uBAAyB,yBAA0B,GAAM,CAAC5D,EAAWyI,CAAU,CAAC,EAEhH,CACF,GACA,yCAA4CM,CAAC,CAACnL,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACvFC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,iCAAmC,kCAAmC,CAACL,EAAchC,CAAM,CAAC,CAAC,EACpIsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,iCAAkC,GAAM,CAACnC,CAAS,CAAC,EACzEwB,UAAWxC,EAAKmD,OAAO,kCAAmC,GAAM,CAACnC,CAAS,CAAC,CAC7E,EACF,CACF,GACA,0CAA6CgJ,CAAC,CAACpJ,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAChFC,KAAM,UACNC,QAASA,IAAMC,EAAK,2BAA4B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACvEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,2BAA4B,GAAM,CAACnC,CAAS,CAAC,CAC1E,CACF,GACA,iDAAoDiJ,CAAC,CAACrJ,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACvFC,KAAM,UACNC,QAASA,IAAMC,EAAK,kCAAmC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC9EsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,kCAAmC,GAAM,CAACnC,CAAS,CAAC,CACjF,CACF,GACA,0CAA6CkJ,CAAC,CAACtJ,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAChFC,KAAM,UACNC,QAASA,IAAMC,EAAK,2BAA4B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACvEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,2BAA4B,GAAM,CAACnC,CAAS,CAAC,CAC1E,CACF,GACA,4CAA+CmJ,CAAC,CAACvJ,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAClFC,KAAM,UACNC,QAASA,IAAMC,EAAK,6BAA8B,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACzEsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,6BAA8B,GAAM,CAACnC,CAAS,CAAC,CAC5E,CACF,GACA,gDAAmDoJ,CAAC,CAACxJ,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACtFC,KAAM,UACNC,QAASA,IAAMC,EAAK,iCAAkC,CAACJ,EAAchC,CAAM,CAAC,CAAC,EAC7EsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,iCAAkC,GAAM,CAACnC,CAAS,CAAC,CAChF,CACF,GACA,kDAAqDqJ,CAAC,CAACzL,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAChGC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,0CAA4C,2CAA4C,CAACL,EAAchC,CAAM,CAAC,CAAC,EACtJsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,0CAA2C,GAAM,CAACnC,CAAS,CAAC,EAClFwB,UAAWxC,EAAKmD,OAAO,2CAA4C,GAAM,CAACnC,CAAS,CAAC,CACtF,EACF,CACF,GACA,+CAAkDsJ,CAAC,CAAC1J,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CACrFC,KAAM,UACNC,QAASA,IAAMC,EAAK,2CAA4C,CAACJ,EAAchC,CAAM,CAAC,CAAC,EACvFsC,YAAaA,IAAMvC,EACjBkC,EAAMhG,KACN+D,EACCI,GAAchB,EAAKmD,OAAO,2CAA4C,GAAM,CAACnC,CAAS,CAAC,CAC1F,CACF,GACA,gDAAmDuJ,CAAC,CAAC3L,OAAAA,EAAQgC,OAAAA,EAAQgC,cAAAA,EAAeC,MAAAA,CAAK,KAAO,CAC9FC,KAAM,UACNC,QAASA,IAAMC,EAAKpE,EAAOqE,UAAY,wCAA0C,yCAA0C,CAACL,EAAchC,CAAM,CAAC,CAAC,EAClJsC,YAAaA,IAAMd,EACjBS,EAAMhG,KACN+D,EACAhC,EAAOqE,UACNjC,IAAe,CACduB,SAAUvC,EAAKmD,OAAO,wCAAyC,GAAM,CAACnC,CAAS,CAAC,EAChFwB,UAAWxC,EAAKmD,OAAO,yCAA0C,GAAM,CAACnC,CAAS,CAAC,CACpF,EACF,GAEJ,EAIawJ,GAAmB/G,GAA8B,CAC5D,KAAM,CAACZ,MAAAA,CAAM,EAAGY,EACVgH,EAAW/H,GAAaG,EAAMjE,OAAOiG,CAAC,EAE5C,OAAI4F,EAIGA,EAAS,CAAC,GAAGhH,EAAM7E,OAAQiE,EAAMjE,MAAe,CAAC,EAH/C,IAIX"}