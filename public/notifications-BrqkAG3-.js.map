{"version":3,"file":"notifications-BrqkAG3-.js","sources":["../src/components/sidebarLeft/tabs/notifications.tsx"],"sourcesContent":["import {SETTINGS_INIT} from '@config/state';\nimport copy from '@helpers/object/copy';\nimport {subscribeOn} from '@helpers/solid/subscribeOn';\nimport convertKeyToInputKey from '@helpers/string/convertKeyToInputKey';\nimport {InputNotifyPeer, InputPeerNotifySettings, PeerNotifySettings, Update} from '@layer';\nimport {i18n, LangPackKey} from '@lib/langPack';\nimport {MUTE_UNTIL} from '@appManagers/constants';\nimport rootScope from '@lib/rootScope';\nimport {useAppSettings} from '@stores/appSettings';\nimport CheckboxFieldTsx from '@components/checkboxFieldTsx';\nimport RangeSettingSelector from '@components/rangeSettingSelector';\nimport Row from '@components/rowTsx';\nimport Section from '@components/section';\nimport {createEffect, createMemo, createSignal, getOwner, onCleanup, runWithOwner} from 'solid-js';\nimport {toastNew} from '@components/toast';\nimport Button from '@components/buttonTsx';\nimport cancelEvent from '@helpers/dom/cancelEvent';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\n\ntype InputNotifyKey = Exclude<InputNotifyPeer['_'], 'inputNotifyPeer' | 'inputNotifyForumTopic'>;\n\nconst NotifySection = (props: {\n  name: LangPackKey,\n  typeText: LangPackKey,\n  inputKey: InputNotifyKey,\n}) => {\n  const [enabled, setEnabled] = createSignal(true);\n  const [showPreviews, setShowPreviews] = createSignal(true);\n  const [notifySettings, setNotifySettings] = createSignal<PeerNotifySettings>();\n  const inputNotifyPeer = {_: props.inputKey};\n\n  createEffect(async() => {\n    const _notifySettings = notifySettings();\n    if(!_notifySettings) {\n      return;\n    }\n\n    const muted = await rootScope.managers.appNotificationsManager.isMuted(_notifySettings);\n    setEnabled(!muted);\n    setShowPreviews(!!_notifySettings.show_previews);\n\n    return muted;\n  });\n\n  onCleanup(async() => {\n    const mute = !enabled();\n    const _showPreviews = showPreviews();\n    const _notifySettings = notifySettings();\n    const isMuted = await rootScope.managers.appNotificationsManager.isMuted(_notifySettings);\n    if(\n      mute === isMuted &&\n      _showPreviews === _notifySettings.show_previews\n    ) {\n      return;\n    }\n\n    const inputSettings: InputPeerNotifySettings = copy(_notifySettings) as any;\n    inputSettings._ = 'inputPeerNotifySettings';\n    inputSettings.mute_until = mute ? MUTE_UNTIL : 0;\n    inputSettings.show_previews = _showPreviews;\n    rootScope.managers.appNotificationsManager.updateNotifySettings(\n      inputNotifyPeer,\n      inputSettings\n    );\n  });\n\n  subscribeOn(rootScope)('notify_settings', (update: Update.updateNotifySettings) => {\n    const inputKey = convertKeyToInputKey(update.peer._) as any;\n    if(props.inputKey === inputKey) {\n      setNotifySettings(update.notify_settings);\n    }\n  });\n\n  const ret = rootScope.managers.appNotificationsManager.getNotifySettings(inputNotifyPeer);\n  (ret instanceof Promise ? ret : Promise.resolve(ret)).then((_notifySettings) => {\n    if(!notifySettings()) {\n      setNotifySettings(_notifySettings);\n    }\n  });\n\n  return (\n    <Section name={props.name}>\n      <Row>\n        <Row.CheckboxFieldToggle>\n          <CheckboxFieldTsx checked={enabled()} onChange={setEnabled} toggle />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n(props.typeText)}</Row.Title>\n      </Row>\n      <Row>\n        <Row.CheckboxFieldToggle>\n          <CheckboxFieldTsx checked={showPreviews()} onChange={setShowPreviews} toggle />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('MessagePreview')}</Row.Title>\n      </Row>\n    </Section>\n  );\n};\n\nconst OtherSection = () => {\n  const [contactJoined, setContactJoined] = createSignal(true);\n  const owner = getOwner();\n  rootScope.managers.appNotificationsManager.getContactSignUpNotification().then((enabled) => {\n    setContactJoined(enabled);\n\n    runWithOwner(owner, () => onCleanup(() => {\n      const _enabled = contactJoined();\n      if(_enabled !== enabled) {\n        rootScope.managers.appNotificationsManager.setContactSignUpNotification(!_enabled);\n      }\n    }));\n  });\n\n  return (\n    <Section name=\"NotificationsOther\">\n      <Row>\n        <Row.CheckboxFieldToggle>\n          <CheckboxFieldTsx\n            checked={contactJoined()}\n            onChange={setContactJoined}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('ContactJoined')}</Row.Title>\n      </Row>\n    </Section>\n  );\n};\n\nconst NotificationsSection = () => {\n  const {uiNotificationsManager} = useHotReloadGuard();\n  const [appSettings, setAppSettings] = useAppSettings();\n  const [permission, setPermission] = createSignal<NotificationPermission>(Notification.permission);\n  const isGranted = createMemo(() => permission() === 'granted');\n\n  const onClick = (e: MouseEvent) => {\n    cancelEvent(e);\n    // const now = Date.now();\n    Notification.requestPermission().then((permission) => {\n      setPermission(permission);\n      if(permission === 'granted') {\n        uiNotificationsManager.onPushConditionsChange();\n      } else {\n        throw 1;\n      }\n    }, () => {\n      // if((Date.now() - now) < 100) {\n      toastNew({langPackKey: 'Notifications.Restricted'});\n      // }\n    });\n  };\n\n  const NotificationRow = (props: Parameters<typeof Row>[0]) => {\n    return (\n      <Row\n        {...props}\n        fakeDisabled={!isGranted()}\n        clickable={!isGranted() && onClick}\n      />\n    );\n  };\n\n  const NotificationCheckbox = (props: Parameters<typeof CheckboxFieldTsx>[0]) => {\n    return (\n      <CheckboxFieldTsx\n        {...props}\n        checked={isGranted() && props.checked}\n      />\n    );\n  };\n\n  return (\n    <Section\n      name=\"Notifications.Web\"\n      caption={isGranted() ? 'MultiAccount.ShowNotificationsFromCaption' : 'Notifications.Default'}\n    >\n      <NotificationRow>\n        <Row.CheckboxFieldToggle>\n          <NotificationCheckbox\n            checked={appSettings.notifications.desktop}\n            onChange={(value) => setAppSettings('notifications', 'desktop', value)}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('Notifications.Show')}</Row.Title>\n      </NotificationRow>\n      <NotificationRow>\n        <Row.CheckboxFieldToggle>\n          <NotificationCheckbox\n            checked={appSettings.notifications.push}\n            onChange={(value) => setAppSettings('notifications', 'push', value)}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('Notifications.Offline')}</Row.Title>\n      </NotificationRow>\n      <NotificationRow>\n        <Row.CheckboxFieldToggle>\n          <NotificationCheckbox\n            checked={appSettings.notifyAllAccounts}\n            onChange={(value) => setAppSettings('notifyAllAccounts', value)}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('MultiAccount.AllAccounts')}</Row.Title>\n      </NotificationRow>\n      {!isGranted() && (\n        <Button\n          text=\"Notifications.Enable\"\n          class=\"btn-primary primary btn-transparent\"\n          icon=\"unmute\"\n          disabled={isGranted()}\n          onClick={onClick}\n        />\n      )}\n    </Section>\n  );\n};\n\nconst SoundSection = () => {\n  const {uiNotificationsManager} = useHotReloadGuard();\n  const [appSettings, setAppSettings] = useAppSettings();\n\n  return (\n    <Section\n      name=\"Notifications.Sound.Section\"\n      caption=\"Notifications.Sound.Caption\"\n    >\n      <Row>\n        <Row.CheckboxFieldToggle>\n          <CheckboxFieldTsx\n            checked={appSettings.notifications.sound}\n            onChange={(value) => {\n              if(value && !appSettings.notifications.volume) {\n                setAppSettings('notifications', 'volume', SETTINGS_INIT.notifications.volume);\n              }\n\n              setAppSettings('notifications', 'sound', value);\n            }}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('Notifications.Sound')}</Row.Title>\n      </Row>\n      <RangeSettingSelector\n        textLeft={i18n('Notifications.Sound.Volume')}\n        textRight={(value) => '' + Math.floor(value * 100) + '%'}\n        step={0.01}\n        value={appSettings.notifications.volume}\n        minValue={0}\n        maxValue={1}\n        onChange={(value) => {\n          value = +value.toFixed(2);\n          if(!value) {\n            setAppSettings('notifications', 'sound', false);\n          }\n\n          setAppSettings('notifications', 'volume', value);\n        }}\n        onMouseUp={() => {\n          uiNotificationsManager.testSound(appSettings.notifications.volume);\n        }}\n      />\n    </Section>\n  );\n};\n\nconst SoundEffectsSection = () => {\n  const [appSettings, setAppSettings] = useAppSettings();\n\n  return (\n    <Section name=\"Notifications.Sound.Effects\">\n      <Row>\n        <Row.CheckboxFieldToggle>\n          <CheckboxFieldTsx\n            checked={appSettings.notifications.sentMessageSound}\n            onChange={(value) => setAppSettings('notifications', 'sentMessageSound', value)}\n            toggle\n          />\n        </Row.CheckboxFieldToggle>\n        <Row.Title>{i18n('Notifications.Sound.Sent')}</Row.Title>\n      </Row>\n    </Section>\n  );\n};\n\nconst Notifications = () => {\n  return (\n    <>\n      <NotificationsSection />\n      <SoundSection />\n      <SoundEffectsSection />\n      <NotifySection\n        name=\"NotificationsPrivateChats\"\n        typeText=\"NotificationsForPrivateChats\"\n        inputKey=\"inputNotifyUsers\"\n      />\n      <NotifySection\n        name=\"NotificationsGroups\"\n        typeText=\"NotificationsForGroups\"\n        inputKey=\"inputNotifyChats\"\n      />\n      <NotifySection\n        name=\"NotificationsChannels\"\n        typeText=\"NotificationsForChannels\"\n        inputKey=\"inputNotifyBroadcasts\"\n      />\n      <OtherSection />\n    </>\n  );\n}\n\nexport default Notifications;\n"],"names":["NotifySection","props","enabled","setEnabled","createSignal","showPreviews","setShowPreviews","notifySettings","setNotifySettings","inputNotifyPeer","_","inputKey","createEffect","_notifySettings","muted","rootScope","managers","appNotificationsManager","isMuted","show_previews","onCleanup","mute","_showPreviews","inputSettings","copy","mute_until","MUTE_UNTIL","updateNotifySettings","subscribeOn","update","convertKeyToInputKey","peer","notify_settings","ret","getNotifySettings","Promise","resolve","then","_$createComponent","Section","name","children","Row","CheckboxFieldToggle","CheckboxFieldTsx","checked","onChange","toggle","Title","i18n","typeText","OtherSection","contactJoined","setContactJoined","owner","getOwner","getContactSignUpNotification","runWithOwner","_enabled","setContactSignUpNotification","NotificationsSection","uiNotificationsManager","useHotReloadGuard","appSettings","setAppSettings","useAppSettings","permission","setPermission","Notification","isGranted","createMemo","onClick","e","cancelEvent","requestPermission","onPushConditionsChange","toastNew","langPackKey","NotificationRow","_$mergeProps","fakeDisabled","clickable","NotificationCheckbox","caption","notifications","desktop","value","push","notifyAllAccounts","_$memo","Button","text","icon","disabled","SoundSection","sound","volume","SETTINGS_INIT","RangeSettingSelector","textLeft","textRight","Math","floor","step","minValue","maxValue","toFixed","onMouseUp","testSound","SoundEffectsSection","sentMessageSound","Notifications"],"mappings":"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"}