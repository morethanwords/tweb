import{dR as i,b as s,c as u,ah as l,ag as d,a9 as h,a2 as m,ac as f,a6 as g,E as p,i as C,t as E}from"./index-BV2I1Jtp.js";import{I as S}from"./iconTsx-WcVB6J0T.js";import{T as y}from"./transition-RjVzGhLO.js";import{ae as b}from"./appDialogsManager-CWwr6pYf.js";const B=({descriptionLangKey:e,hasChanges:n,saveAllSettings:t})=>{const{confirmationPopup:r}=i();return async()=>{if(!n())return;const a={langKey:"Save"};try{return await r({titleLangKey:"UnsavedChanges",descriptionLangKey:e,button:a,buttons:[a,{isCancel:!0,langKey:"Discard"}],rejectWithReason:!0}),t(),!0}catch(c){if(c==="closed")throw new Error}}},o=(e=!1)=>async(n,t)=>{const r=["scale(0)","scale(1)"];e&&r.reverse(),await n.animate({transform:r},{duration:80}).finished,t()},k=e=>s(y,{get onEnter(){return o()},get onExit(){return o(!0)},get children(){return e.children}});function w(e,n){const[t,r]=u(e()),a=n(()=>r(()=>e()));return l(()=>{b(e),a()}),t}function v(e,n,t){return w(e,r=>d(r,n,t))}const T=E('<button class="btn-icon blue">'),L=e=>{const n=v(()=>e.hasChanges,200,!0);return s(k,{get children(){return s(m,{get when(){return n()},get children(){const t=T();return f(t,"click",e.onClick,!0),g(p,t,()=>!0),C(t,s(S,{icon:"check"})),t}})}})};h(["click"]);export{L as S,B as u};
//# sourceMappingURL=saveButton-Cb1fsvqF.js.map
