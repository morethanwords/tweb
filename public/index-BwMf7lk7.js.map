{"version":3,"file":"index-BwMf7lk7.js","sources":["../src/components/verticalOptionWheel.tsx","../src/components/sidebarLeft/tabs/autoDeleteMessages/customTimePopup/content.tsx","../src/components/sidebarLeft/tabs/autoDeleteMessages/customTimePopup/index.ts"],"sourcesContent":["import {createEffect, createMemo, createSignal, For, type JSX, on, onCleanup, untrack} from 'solid-js';\nimport {animateValue} from '@helpers/animateValue';\nimport {animate} from '@helpers/animation';\nimport lastItem from '@helpers/array/lastItem';\nimport {keepMe} from '@helpers/keepMe';\nimport {subscribeOn} from '@helpers/solid/subscribeOn';\nimport swipe, {SwipeDirectiveArgs} from '@helpers/useSwipe';\nimport useElementSize from '@hooks/useElementSize';\nimport {useIsCleaned} from '@hooks/useIsCleaned';\nimport {useScrollTop} from '@hooks/useScrollTop';\nimport styles from '@components/verticalOptionWheel.module.scss';\n\nkeepMe(swipe);\n\ntype Option<V> = {\n  value: V;\n  label: JSX.Element;\n}\n\nconst snapTimeout = 250;\nconst diffSampleCount = 5;\nconst scrollDuration = 320;\nconst optionSize = 40;\nconst dragThreshold = 10;\nconst generousDiffError = 0.1;\n\nexport const VerticalOptionWheel = <V, >(props: {\n  /**\n   * For now, changing the value from the parent component is not supported, it scrolls into view only on first render.\n   * Still, make sure this is the latest value to prevent onChange firing too many times.\n   */\n  value: V;\n  options: Option<V>[];\n  onChange: (value: V) => void;\n}) => {\n  const [scrollable, setScrollable] = createSignal<HTMLDivElement>();\n  const [hasScrolledInitially, setHasScrolledInitially] = createSignal(false);\n  const [isDragging, setIsDragging] = createSignal(false);\n  const [hasDraggedALittle, setHasDraggedALittle] = createSignal(false);\n\n  const scrollTop = useScrollTop(scrollable);\n  const size = useElementSize(scrollable);\n\n  const isCleaned = useIsCleaned();\n\n  const elementsAndOptions =\n    createMemo(() => props.options.map((option, idx) => ({\n      option,\n      element: (\n        <div class={styles.Option} onClick={[onOptionClick, idx]}>\n          {option.label}\n        </div>\n      ) as HTMLDivElement\n    })));\n\n  createEffect(on(elementsAndOptions, () => {\n    const localScrollable = scrollable();\n    const localElementsAndOptions = elementsAndOptions();\n    if(!localScrollable || !localElementsAndOptions.length) return;\n\n    const selectedOptionIdx = Math.max(0, localElementsAndOptions.findIndex(({option}) => option.value === props.value));\n\n    if(selectedOptionIdx) {\n      localScrollable.scrollTop = selectedOptionIdx * optionSize;\n    }\n    setHasScrolledInitially(true);\n  }));\n\n  createEffect(() => {\n    const localElementsAndOptions = elementsAndOptions();\n    if(!localElementsAndOptions.length || !hasScrolledInitially()) return;\n\n    let bestItem = localElementsAndOptions[0];\n    let bestDiff = Infinity;\n\n    for(let i = 0; i < localElementsAndOptions.length; i++) {\n      const item = localElementsAndOptions[i];\n      const element = item.element;\n\n      const diffSigned = calcDiffFromCenterFor(i);\n      const diff = Math.abs(diffSigned);\n\n      const distSigned = diffSigned / size.height * 2;\n      const dist = Math.abs(distSigned);\n\n      if(diff < bestDiff) {\n        bestItem = item;\n        bestDiff = diff;\n      }\n\n      element.classList.toggle(styles.hidden, dist > 1);\n\n      if(dist <= 1) {\n        element.style.setProperty('--current-dist', `${dist}`);\n        element.style.setProperty('--current-dist-sign', `${Math.sign(distSigned)}`);\n      } else {\n        element.style.removeProperty('--current-dist');\n        element.style.removeProperty('--current-dist-sign');\n      }\n    }\n\n    const prevValue = untrack(() => props.value);\n    const newValue = bestItem.option.value;\n\n    if(newValue !== prevValue) props.onChange(newValue);\n  });\n\n\n  let timeoutId: number;\n\n  createEffect(() => {\n    if(isDragging()) return;\n\n    scrollTop();\n\n    timeoutId = self.setTimeout(snapClosestToCenter, snapTimeout);\n\n    onCleanup(() => {\n      self.clearTimeout(timeoutId);\n    });\n  });\n\n  createEffect(() => {\n    const localScrollable = scrollable();\n    if(!localScrollable) return;\n\n    subscribeOn(localScrollable)('wheel', () => {\n      cancelSmoothScroll?.();\n    }, {passive: true});\n  })\n\n  let cancelDeceleration: () => void;\n  let cancelSmoothScroll: () => void;\n\n  onCleanup(() => {\n    cancelSmoothScroll?.();\n    cancelDeceleration?.();\n  });\n\n  let initialScroll = 0;\n\n  type DiffWithTime = {\n    time: number;\n    diff: number;\n  };\n\n  let lastDiffs: DiffWithTime[] = []\n\n  // let c = -1;\n\n  const swipeArgs: SwipeDirectiveArgs = {\n    onStart: () => {\n      initialScroll = scrollable()?.scrollTop ?? 0;\n      lastDiffs = [];\n\n      cancelDeceleration?.();\n      cancelSmoothScroll?.();\n      setIsDragging(true);\n    },\n    onMove: (_, yDiff) => {\n      const localScrollable = scrollable();\n      if(!localScrollable) return;\n\n      // c = (c + 1) % 4;\n      // if(c % 4 === 0) {\n      pushDiffWithTime(yDiff);\n      // }\n\n      if(Math.abs(yDiff) > dragThreshold) setHasDraggedALittle(true);\n\n      localScrollable.scrollTop = initialScroll - yDiff;\n    },\n    onEnd: () => {\n      cancelDeceleration = runDeceleration();\n      setIsDragging(false);\n      setTimeout(() => {\n        setHasDraggedALittle(false);\n      }, 0);\n    }\n  };\n\n  function calcDiffFromCenterFor(idx: number) {\n    const center = size.height / 2 + scrollTop();\n    return center - (idx + 2.5) * optionSize;\n  };\n\n  function runDeceleration() {\n    const localScrollable = scrollable();\n\n    if(lastDiffs.length < 2 || !localScrollable) {\n      lastDiffs = [];\n      return;\n    }\n\n    const endTime = performance.now();\n\n    let isCanceled = false;\n    const deceleration = 0.2;\n    const referenceFrameTime = 1000 / 60;\n\n    let speed = 0;\n    for(let i = 0; i < lastDiffs.length - 1; i++) {\n      speed += lastDiffs[i + 1].diff - lastDiffs[i].diff;\n    }\n\n    speed = speed * referenceFrameTime / (endTime - lastItem(lastDiffs).time);\n\n    let lastTime = performance.now();\n    let lastScrollTop = -1;\n\n    animate(() => {\n      if(isCleaned() || isCanceled) return false;\n\n      const time = performance.now();\n      const deltaTime = time - lastTime;\n      lastTime = time;\n\n      const currentScrollTop = localScrollable.scrollTop;\n\n      if(currentScrollTop === lastScrollTop) return false; // hit an end\n\n      lastScrollTop = localScrollable.scrollTop;\n      localScrollable.scrollTop = lastScrollTop + speed;\n\n      speed -= Math.sign(speed) * (deceleration * deltaTime / referenceFrameTime);\n\n      return Math.abs(speed) > 1;\n    });\n\n    return () => {\n      isCanceled = true;\n    };\n  }\n\n  function pushDiffWithTime(yDiff: number) {\n    lastDiffs = [{\n      time: performance.now(),\n      diff: yDiff\n    }, ...lastDiffs.slice(0, diffSampleCount - 1)];\n  }\n\n  function snapClosestToCenter() {\n    const localScrollable = scrollable();\n    const localElementsAndOptions = elementsAndOptions();\n    if(!localElementsAndOptions.length || !localScrollable) return;\n\n\n    let bestIdx = 0;\n    let bestDiff = Infinity;\n\n    for(let i = 0; i < localElementsAndOptions.length; i++) {\n      const diff = Math.abs(calcDiffFromCenterFor(i));\n\n      if(diff < bestDiff) {\n        bestIdx = i;\n        bestDiff = diff;\n      }\n    }\n\n    if(bestDiff > generousDiffError) scrollToIdx(bestIdx);\n  }\n\n  function onOptionClick(idx: number) {\n    if(hasDraggedALittle()) return;\n\n    scrollToIdx(idx);\n  }\n\n  function scrollToIdx(idx: number) {\n    const localScrollable = scrollable();\n    if(!localScrollable) return;\n\n    cancelSmoothScroll?.();\n    cancelSmoothScroll = animateValue(\n      localScrollable.scrollTop,\n      idx * optionSize,\n      scrollDuration,\n      (value) => {\n        localScrollable.scrollTop = value;\n      }\n    );\n  }\n\n  return (\n    <div class={styles.Container} style={{'--option-size': `${optionSize}px`}}>\n      <div class={styles.Scrollable} ref={setScrollable} use:swipe={swipeArgs}>\n        <div class={styles.EmptyOption} />\n        <div class={styles.EmptyOption} />\n        <For each={elementsAndOptions()}>\n          {({element}) => element}\n        </For>\n        <div class={styles.EmptyOption} />\n        <div class={styles.EmptyOption} />\n      </div>\n\n      <div class={`${styles.Divider} ${styles.upper}`} />\n      <div class={`${styles.Divider} ${styles.lower}`} />\n    </div>\n  );\n};\n","import {createSignal} from 'solid-js';\nimport {I18nTsx} from '@helpers/solid/i18n';\nimport {LangPackKey} from '@lib/langPack';\nimport defineSolidElement, {PassedProps} from '@lib/solidjs/defineSolidElement';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\nimport {VerticalOptionWheel} from '@components/verticalOptionWheel';\nimport {customTimeOptions} from '@components/sidebarLeft/tabs/autoDeleteMessages/options';\nimport styles from '@components/sidebarLeft/tabs/autoDeleteMessages/customTimePopup/styles.module.scss';\n\nif(import.meta.hot) import.meta.hot.accept();\n\ntype Props = {\n  initialPeriod: number;\n  descriptionLangKey: LangPackKey;\n  onChange: (period: number) => void;\n};\n\n\nexport const AutoDeleteMessagesCustomTimePopupContent = defineSolidElement({\n  name: 'auto-delete-messages-custom-time-popup-content',\n  component: (props: PassedProps<Props>) => {\n    const {i18n} = useHotReloadGuard();\n\n    const [period, setPeriod] = createSignal(props.initialPeriod);\n\n    const options = [\n      {\n        value: 0,\n        label: () => i18n('Never')\n      },\n      ...customTimeOptions\n    ];\n\n    return (\n      <div class={styles.Container}>\n        <I18nTsx key={props.descriptionLangKey} />\n\n        <VerticalOptionWheel\n          value={period()}\n          onChange={(value) => {\n            setPeriod(value);\n            props.onChange(value);\n          }}\n          options={options.map(option => ({\n            label: option.label(),\n            value: option.value\n          }))}\n        />\n      </div>\n    );\n  }\n});\n","import {LangPackKey} from '@lib/langPack';\nimport SolidJSHotReloadGuardProvider from '@lib/solidjs/hotReloadGuardProvider';\nimport PopupElement from '@components/popups';\nimport {AutoDeleteMessagesCustomTimePopupContent} from '@components/sidebarLeft/tabs/autoDeleteMessages/customTimePopup/content';\n\nif(import.meta.hot) import.meta.hot.accept('./content', () => {});\n\n\ntype Args = {\n  descriptionLangKey: LangPackKey;\n  period: number;\n  HotReloadGuard: typeof SolidJSHotReloadGuardProvider;\n  onFinish: (period: number) => void;\n};\n\nexport default class AutoDeleteMessagesCustomTimePopup extends PopupElement {\n  private period: number;\n\n  constructor({descriptionLangKey, period, HotReloadGuard, onFinish}: Args) {\n    super('auto-delete-messages-custom-time-popup', {\n      overlayClosable: true,\n      closable: true,\n      body: true,\n      title: 'AutoDeleteMessages',\n      buttons: [\n        {\n          langKey: 'Save',\n          callback: () => {\n            onFinish(this.period);\n            this.hide();\n          }\n        },\n        {\n          langKey: 'Cancel',\n          isCancel: true\n        }\n      ]\n    });\n\n    this.period = period;\n\n    const content = new AutoDeleteMessagesCustomTimePopupContent;\n    content.HotReloadGuard = HotReloadGuard;\n    content.feedProps({\n      initialPeriod: period || 0,\n      descriptionLangKey,\n      onChange: (newPeriod) => {\n        this.period = newPeriod;\n      }\n    })\n\n    this.body.append(content);\n  }\n}\n"],"names":["snapTimeout","diffSampleCount","scrollDuration","optionSize","dragThreshold","generousDiffError","VerticalOptionWheel","props","scrollable","setScrollable","createSignal","hasScrolledInitially","setHasScrolledInitially","isDragging","setIsDragging","hasDraggedALittle","setHasDraggedALittle","scrollTop","useScrollTop","size","useElementSize","isCleaned","useIsCleaned","elementsAndOptions","createMemo","options","map","option","idx","element","_el$","_tmpl$","$$click","onOptionClick","$$clickData","_$insert","label","_$effect","_$className","styles","Option","createEffect","on","localScrollable","localElementsAndOptions","length","selectedOptionIdx","Math","max","findIndex","value","bestItem","bestDiff","Infinity","i","item","diffSigned","calcDiffFromCenterFor","diff","abs","distSigned","height","dist","classList","toggle","hidden","style","setProperty","sign","removeProperty","prevValue","untrack","newValue","onChange","timeoutId","self","setTimeout","snapClosestToCenter","onCleanup","clearTimeout","subscribeOn","cancelSmoothScroll","passive","cancelDeceleration","initialScroll","lastDiffs","swipeArgs","onStart","onMove","_","yDiff","pushDiffWithTime","onEnd","runDeceleration","endTime","performance","now","isCanceled","deceleration","referenceFrameTime","speed","lastItem","time","lastTime","lastScrollTop","animate","deltaTime","slice","bestIdx","scrollToIdx","animateValue","_el$2","_tmpl$2","_el$3","firstChild","_el$4","_el$5","nextSibling","_el$6","_el$7","_el$8","_el$9","_$use","swipe","_$createComponent","For","each","children","_p$","_v$","Container","_v$2","Scrollable","_v$3","EmptyOption","_v$4","_v$5","_v$6","_v$7","Divider","upper","_v$8","lower","undefined","_$delegateEvents","AutoDeleteMessagesCustomTimePopupContent","defineSolidElement","name","component","i18n","useHotReloadGuard","period","setPeriod","initialPeriod","customTimeOptions","I18nTsx","key","descriptionLangKey","AutoDeleteMessagesCustomTimePopup","PopupElement","HotReloadGuard","onFinish","content","newPeriod"],"mappings":"ozCAmBMA,GAAc,IACdC,GAAkB,EAClBC,GAAiB,IACjBC,EAAa,GACbC,GAAgB,GAChBC,GAAoB,GAEbC,GAA4BC,GAQnC,CACJ,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAY,EAC1C,CAACC,EAAsBC,CAAuB,EAAIF,EAAa,EAAK,EACpE,CAACG,EAAYC,CAAa,EAAIJ,EAAa,EAAK,EAChD,CAACK,EAAmBC,CAAoB,EAAIN,EAAa,EAAK,EAE9DO,EAAYC,GAAaV,CAAU,EACnCW,EAAOC,GAAeZ,CAAU,EAEhCa,EAAYC,KAEZC,EACJC,GAAW,IAAMjB,EAAMkB,QAAQC,IAAI,CAACC,EAAQC,KAAS,CACnDD,OAAAA,EACAE,SAAO,IAAA,CAAA,MAAAC,EAAAC,KAAAD,OAAAA,EAAAE,QACgCC,EAAaH,EAAAI,YAAEN,EAAGO,EAAAL,EACpDH,IAAAA,EAAOS,KAAK,EAAAC,MAAAC,EAAAR,EADHS,EAAOC,MAAM,CAAA,EAAAV,CAAA,GAAA,CAI5B,EAAC,CAAC,EAELW,EAAaC,GAAGnB,EAAoB,IAAM,CACxC,MAAMoB,EAAkBnC,IAClBoC,EAA0BrB,IAChC,GAAG,CAACoB,GAAmB,CAACC,EAAwBC,OAAQ,OAExD,MAAMC,EAAoBC,KAAKC,IAAI,EAAGJ,EAAwBK,UAAU,CAAC,CAACtB,OAAAA,CAAO,IAAKA,EAAOuB,QAAU3C,EAAM2C,KAAK,CAAC,EAEhHJ,IACDH,EAAgB1B,UAAY6B,EAAoB3C,GAElDS,EAAwB,EAAI,CAC7B,CAAA,CAAC,EAEF6B,EAAa,IAAM,CACjB,MAAMG,EAA0BrB,IAChC,GAAG,CAACqB,EAAwBC,QAAU,CAAClC,EAAsB,EAAE,OAE/D,IAAIwC,EAAWP,EAAwB,CAAC,EACpCQ,EAAWC,IAEf,QAAQC,EAAI,EAAGA,EAAIV,EAAwBC,OAAQS,IAAK,CACtD,MAAMC,EAAOX,EAAwBU,CAAC,EAChCzB,EAAU0B,EAAK1B,QAEf2B,EAAaC,EAAsBH,CAAC,EACpCI,EAAOX,KAAKY,IAAIH,CAAU,EAE1BI,EAAaJ,EAAarC,EAAK0C,OAAS,EACxCC,EAAOf,KAAKY,IAAIC,CAAU,EAE7BF,EAAON,IACRD,EAAWI,EACXH,EAAWM,GAGb7B,EAAQkC,UAAUC,OAAOzB,EAAO0B,OAAQH,EAAO,CAAC,EAE7CA,GAAQ,GACTjC,EAAQqC,MAAMC,YAAY,iBAAmB,GAAEL,CAAK,EAAC,EACrDjC,EAAQqC,MAAMC,YAAY,sBAAwB,GAAEpB,KAAKqB,KAAKR,CAAU,CAAE,EAAC,IAE3E/B,EAAQqC,MAAMG,eAAe,gBAAgB,EAC7CxC,EAAQqC,MAAMG,eAAe,qBAAqB,EAEtD,CAEA,MAAMC,EAAYC,GAAQ,IAAMhE,EAAM2C,KAAK,EACrCsB,EAAWrB,EAASxB,OAAOuB,MAE9BsB,IAAaF,GAAW/D,EAAMkE,SAASD,CAAQ,CACpD,CAAC,EAGD,IAAIE,EAEJjC,EAAa,IAAM,CACd5B,EAAY,IAEfI,IAEAyD,EAAYC,KAAKC,WAAWC,EAAqB7E,EAAW,EAE5D8E,EAAU,IAAM,CACdH,KAAKI,aAAaL,CAAS,CAC7B,CAAC,EACH,CAAC,EAEDjC,EAAa,IAAM,CACjB,MAAME,EAAkBnC,IACpBmC,GAEJqC,GAAYrC,CAAe,EAAE,QAAS,IAAM,CAC1CsC,KACF,EAAG,CAACC,QAAS,EAAI,CAAC,CACpB,CAAC,EAED,IAAIC,EACAF,EAEJH,EAAU,IAAM,CACdG,MACAE,KACF,CAAC,EAED,IAAIC,EAAgB,EAOhBC,EAA4B,CAAA,EAIhC,MAAMC,EAAgC,CACpCC,QAASA,IAAM,CACbH,EAAgB5E,EAAU,GAAIS,WAAa,EAC3CoE,EAAY,CAAA,EAEZF,MACAF,MACAnE,EAAc,EAAI,CACnB,EACD0E,OAAQA,CAACC,EAAGC,IAAU,CACpB,MAAM/C,EAAkBnC,IACpBmC,IAIJgD,EAAiBD,CAAK,EAGnB3C,KAAKY,IAAI+B,CAAK,EAAItF,IAAeY,EAAqB,EAAI,EAE7D2B,EAAgB1B,UAAYmE,EAAgBM,EAC7C,EACDE,MAAOA,IAAM,CACXT,EAAqBU,EAAe,EACpC/E,EAAc,EAAK,EACnB8D,WAAW,IAAM,CACf5D,EAAqB,EAAK,CAC3B,EAAE,CAAC,CACN,GAGF,SAASyC,EAAsB7B,EAAa,CAE1C,OADeT,EAAK0C,OAAS,EAAI5C,EAAS,GACzBW,EAAM,KAAOzB,CAChC,CAEA,SAAS0F,GAAkB,CACzB,MAAMlD,EAAkBnC,IAExB,GAAG6E,EAAUxC,OAAS,GAAK,CAACF,EAAiB,CAC3C0C,EAAY,CAAA,EACZ,MACF,CAEA,MAAMS,EAAUC,YAAYC,MAE5B,IAAIC,EAAa,GACjB,MAAMC,EAAe,GACfC,EAAqB,IAAO,GAElC,IAAIC,EAAQ,EACZ,QAAQ9C,EAAI,EAAGA,EAAI+B,EAAUxC,OAAS,EAAGS,IACvC8C,GAASf,EAAU/B,EAAI,CAAC,EAAEI,KAAO2B,EAAU/B,CAAC,EAAEI,KAGhD0C,EAAQA,EAAQD,GAAsBL,EAAUO,GAAShB,CAAS,EAAEiB,MAEpE,IAAIC,EAAWR,YAAYC,MACvBQ,EAAgB,GAEpBC,OAAAA,GAAQ,IAAM,CACZ,GAAGpF,EAAW,GAAI4E,EAAY,MAAO,GAErC,MAAMK,EAAOP,YAAYC,MACnBU,EAAYJ,EAAOC,EAKzB,OAJAA,EAAWD,EAEc3D,EAAgB1B,YAEjBuF,EAAsB,IAE9CA,EAAgB7D,EAAgB1B,UAChC0B,EAAgB1B,UAAYuF,EAAgBJ,EAE5CA,GAASrD,KAAKqB,KAAKgC,CAAK,GAAKF,EAAeQ,EAAYP,GAEjDpD,KAAKY,IAAIyC,CAAK,EAAI,EAC3B,CAAC,EAEM,IAAM,CACXH,EAAa,GAEjB,CAEA,SAASN,EAAiBD,EAAe,CACvCL,EAAY,CAAC,CACXiB,KAAMP,YAAYC,IAAK,EACvBtC,KAAMgC,CACR,EAAG,GAAGL,EAAUsB,MAAM,EAAG1G,GAAkB,CAAC,CAAC,CAC/C,CAEA,SAAS4E,GAAsB,CAC7B,MAAMlC,EAAkBnC,IAClBoC,EAA0BrB,IAChC,GAAG,CAACqB,EAAwBC,QAAU,CAACF,EAAiB,OAGxD,IAAIiE,EAAU,EACVxD,EAAWC,IAEf,QAAQC,EAAI,EAAGA,EAAIV,EAAwBC,OAAQS,IAAK,CACtD,MAAMI,EAAOX,KAAKY,IAAIF,EAAsBH,CAAC,CAAC,EAE3CI,EAAON,IACRwD,EAAUtD,EACVF,EAAWM,EAEf,CAEGN,EAAW/C,IAAmBwG,EAAYD,CAAO,CACtD,CAEA,SAAS3E,EAAcL,EAAa,CAC/Bb,EAAmB,GAEtB8F,EAAYjF,CAAG,CACjB,CAEA,SAASiF,EAAYjF,EAAa,CAChC,MAAMe,EAAkBnC,IACpBmC,IAEJsC,MACAA,EAAqB6B,GACnBnE,EAAgB1B,UAChBW,EAAMzB,EACND,GACCgD,GAAU,CACTP,EAAgB1B,UAAYiC,CAC9B,CACF,EACF,CAEA,OAAA,IAAA,CAAA,MAAA6D,EAAAC,GAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAE,YAAAC,EAAAF,EAAAC,YAAAE,EAAAD,EAAAD,YAAAG,EAAAP,EAAAI,YAAAI,EAAAD,EAAAH,YAAAN,OAAAA,EAAA7C,MAAAC,YAAA,gBAAA,MAAA,EAAAuD,EAE2DC,GAAKV,MAAE3B,CAAS,EAAAoC,EAAnCjH,EAAawG,CAAA,EAAA9E,EAAA8E,EAAAW,EAG9CC,GAAG,CAAA,IAACC,MAAI,CAAA,OAAEvG,EAAkB,CAAE,EAAAwG,SAC5BA,CAAC,CAAClG,QAAAA,CAAO,IAAMA,CAAO,CAAA,EAAAyF,CAAA,EAAAjF,EAAA2F,GAAA,CAAA,MAAAC,EALjB1F,EAAO2F,UAASC,EACd5F,EAAO6F,WAAUC,EACf9F,EAAO+F,YAAWC,EAClBhG,EAAO+F,YAAWE,EAIlBjG,EAAO+F,YAAWG,EAClBlG,EAAO+F,YAAWI,EAGnB,GAAEnG,EAAOoG,OAAQ,IAAGpG,EAAOqG,KAAM,GAACC,EAClC,GAAEtG,EAAOoG,OAAQ,IAAGpG,EAAOuG,KAAM,GAACb,OAAAA,IAAAD,EAAAC,KAAA3F,EAAAyE,EAAAiB,EAAAC,IAAAA,CAAA,EAAAE,IAAAH,EAAAG,MAAA7F,EAAA2E,EAAAe,EAAAG,KAAAA,CAAA,EAAAE,IAAAL,EAAAK,MAAA/F,EAAA6E,EAAAa,EAAAK,KAAAA,CAAA,EAAAE,IAAAP,EAAAO,MAAAjG,EAAA8E,EAAAY,EAAAO,KAAAA,CAAA,EAAAC,IAAAR,EAAAQ,MAAAlG,EAAAgF,EAAAU,EAAAQ,KAAAA,CAAA,EAAAC,IAAAT,EAAAS,MAAAnG,EAAAiF,EAAAS,EAAAS,KAAAA,CAAA,EAAAC,IAAAV,EAAAU,MAAApG,EAAAkF,EAAAQ,EAAAU,KAAAA,CAAA,EAAAG,IAAAb,EAAAa,MAAAvG,EAAAmF,EAAAO,EAAAa,KAAAA,CAAA,EAAAb,CAAA,EAAA,CAAAC,IAAAc,OAAAZ,KAAAY,OAAAV,KAAAU,OAAAR,KAAAQ,OAAAP,KAAAO,OAAAN,KAAAM,OAAAL,KAAAK,OAAAF,KAAAE,MAAA,CAAA,EAAAhC,CAAA,IAGrD,EAAEiC,EAAA,CAAA,OAAA,CAAA,gECzRWC,GAA2CC,GAAmB,CACzEC,KAAM,iDACNC,UAA0C7I,GAAA,CAClC,KAAA,CAAC8I,KAAAA,GAAQC,GAAkB,EAE3B,CAACC,EAAQC,CAAS,EAAI9I,EAAaH,EAAMkJ,aAAa,EAEtDhI,EAAU,CACd,CACEyB,MAAO,EACPd,MAAOA,IAAMiH,EAAK,OAAO,CAAA,EAE3B,GAAGK,EAAiB,EAGtB,OAAA,IAAA,CAAA,MAAA5H,EAAAC,KAAAD,OAAAA,EAAAA,EAAA8F,EAEK+B,GAAO,CAAA,IAACC,KAAG,CAAA,OAAErJ,EAAMsJ,kBAAkB,CAAA,CAAA,EAAA,IAAA,EAAA/H,EAAAA,EAAA8F,EAErCtH,GAAmB,CAAA,IAClB4C,OAAK,CAAA,OAAEqG,EAAO,CAAC,EACf9E,SAAqBvB,GAAA,CACnBsG,EAAUtG,CAAK,EACf3C,EAAMkE,SAASvB,CAAK,CACtB,EAAC,IACDzB,SAAO,CAAEA,OAAAA,EAAQC,IAAeC,IAAA,CAC9BS,MAAOT,EAAOS,MAAM,EACpBc,MAAOvB,EAAOuB,KACd,EAAA,CAAC,CAAA,CAAA,EAAA,IAAA,EAAAb,MAAAC,EAAAR,EAZKS,GAAO2F,SAAS,CAAA,EAAApG,CAAAA,IAgBhC,CACF,CAAC,ECpCD,MAAqBgI,WAA0CC,EAAa,CAG1E,YAAY,CAAC,mBAAAF,EAAoB,OAAAN,EAAQ,eAAAS,EAAgB,SAAAC,GAAiB,CACxE,MAAM,yCAA0C,CAC9C,gBAAiB,GACjB,SAAU,GACV,KAAM,GACN,MAAO,qBACP,QAAS,CACP,CACE,QAAS,OACT,SAAU,IAAM,CACdA,EAAS,KAAK,MAAM,EACpB,KAAK,KAAK,CACZ,CACF,EACA,CACE,QAAS,SACT,SAAU,EACZ,CACF,CAAA,CACD,EAED,KAAK,OAASV,EAER,MAAAW,EAAU,IAAIjB,GACpBiB,EAAQ,eAAiBF,EACzBE,EAAQ,UAAU,CAChB,cAAeX,GAAU,EACzB,mBAAAM,EACA,SAAWM,GAAc,CACvB,KAAK,OAASA,CAChB,CAAA,CACD,EAEI,KAAA,KAAK,OAAOD,CAAO,CAC1B,CACF"}