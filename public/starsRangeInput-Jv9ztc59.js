import{dg as $,ac as z,a6 as m,t as U,i as I,j as E,b8 as F,a0 as V,a as i,bv as k,a9 as N}from"./index-CBlIzVyW.js";import{u as j,n as A,d as D,e as G}from"./appDialogsManager-GRFV80Nd.js";const H=()=>{const{rootScope:e}=$(),s=j();return z(()=>{const r=e.managers.apiManager.getAppConfig();return s.collect(r),r})},it=e=>{const[s]=H(),r=m(()=>(+s()?.stars_paid_message_commission_permille||0)/1e3),o=m(()=>(+s()?.stars_usd_withdraw_rate_x1000||0)/1e3),n=m(()=>Math.round(r()*100)),l=m(()=>Math.max(.01,Math.round(r()*o()*e())/100));return{commissionPercents:n,willReceiveDollars:l}},q="_Container_16lt0_36",J="_Row_16lt0_41",K="_Limit_16lt0_49",O="_LimitLast_16lt0_53",Q="_Value_16lt0_57",X="_InputWrapper_16lt0_63",Y="_Thumb_16lt0_78",Z="_Background_16lt0_98",tt="_Progress_16lt0_108",a={Container:q,Row:J,Limit:K,LimitLast:O,Value:Q,InputWrapper:X,Thumb:Y,Background:Z,Progress:tt};var et=U("<div><div><div>1</div><div></div><div></div></div><div><input type=range min=1 step=1><div></div><div></div><div>");const g=[[10,1],[10,2],[14,5],[10,10],[12,25],[10,50],[15,100],[20,250],[5,500]],u=D(g.map(e=>e[0]),0),nt=W(u);function W(e){let s=0;for(const[r,o]of g)if(s+=Math.min(e,r)*o,e-=r,e<=0)break;return s}function st(e){let s=0;for(const[r,o]of g){const n=Math.min(r,Math.floor(e/o));e-=n*o,s+=n}return s}const ot=e=>{const s=()=>k(st(e.value),1,u),r=()=>G(s(),1,u,0,1),o=n=>{const l=k(n.currentTarget.valueAsNumber,1,u),d=Math.round(W(l));e.onChange(d)};return(()=>{var n=et(),l=n.firstChild,d=l.firstChild,v=d.nextSibling,h=v.nextSibling,p=l.nextSibling,c=p.firstChild,b=c.nextSibling,S=b.nextSibling,B=S.nextSibling;return I(v,()=>E("Stars",[A(parseInt(e.value.toFixed(0)))])),I(h,()=>A(nt)),c.$$input=o,F(c,"max",u),V(t=>{var C=a.Container,_=r(),f=r()*100+"%",L=a.Row,P=a.Limit,w=a.Value,x=`${a.Limit} ${a.LimitLast}`,y=a.InputWrapper,M=a.Background,R=a.Thumb,T=a.Progress;return C!==t.e&&i(n,t.e=C),_!==t.t&&((t.t=_)!=null?n.style.setProperty("--normalized",_):n.style.removeProperty("--normalized")),f!==t.a&&((t.a=f)!=null?n.style.setProperty("--w",f):n.style.removeProperty("--w")),L!==t.o&&i(l,t.o=L),P!==t.i&&i(d,t.i=P),w!==t.n&&i(v,t.n=w),x!==t.s&&i(h,t.s=x),y!==t.h&&i(p,t.h=y),M!==t.r&&i(b,t.r=M),R!==t.d&&i(S,t.d=R),T!==t.l&&i(B,t.l=T),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),V(()=>c.value=s()),n})()};N(["input"]);export{ot as S,it as u};
//# sourceMappingURL=starsRangeInput-Jv9ztc59.js.map
