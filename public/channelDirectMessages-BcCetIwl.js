import{dR as w,c as p,aQ as P,b as e,ad as v,k as M,a2 as _}from"./index-BV2I1Jtp.js";import{u as k,S as y}from"./saveButton-Cb1fsvqF.js";import{a5 as D,ab as g}from"./appDialogsManager-CWwr6pYf.js";import{S as R}from"./starsRangeInput-DVTnqK4b.js";import{u as T}from"./useStarsCommissionAndWithdrawalPrice-Ncts0hjg.js";import{S as A}from"./staticSwitch-CBfBKVrs.js";import{T as L}from"./transition-RjVzGhLO.js";import"./iconTsx-WcVB6J0T.js";import"./classNames-CN4lTu6a.js";import"./page-CZapATw0.js";import"./putPreloader-D61QXpkQ.js";import"./avatar-CoF9jUXV.js";import"./htmlToSpan-DhAls8qz.js";import"./wrapDuration-Dbmbo_XD.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./toast-CKjmCNNt.js";import"./fastBlur-Co-79rP4.js";import"./emailSetup-DC47owN0.js";import"./countryInputField-DRrD4ZDI.js";import"./scrollable2-DFH8h4l4.js";import"./chatBackground-CE6wSm2q.js";import"./tracking-D9iSy3gB.js";import"./useAppConfig-Cl65m-A-.js";const te=()=>{const[n]=D(),{apiManagerProxy:u,rootScope:h,Row:i}=w(),r=n.payload.chat;if(!r)return[];const s=r.linked_monoforum_id?u.getChat(r.linked_monoforum_id):void 0,c=!!s,l=s?._==="channel"&&+s.send_paid_messages_stars||0,[t,S]=p(c),[a,C]=p(l),m=P(()=>c!==t()||t()&&l!==a()),{commissionPercents:f,willReceiveDollars:b}=T(a);let o=!1;async function d(){if(!o){o=!0;try{await h.managers.appChatsManager.updateChannelPaidMessagesPrice(r.id,t()?a():0,t()),n.close()}finally{o=!1}}}return n.isConfirmationNeededOnClose=k({saveAllSettings:d,hasChanges:m,descriptionLangKey:"UnsavedChangesDescription.Channel"}),[e(v,{get mount(){return n.header},get children(){return e(y,{get hasChanges(){return m()},onClick:()=>void d()})}}),e(g,{caption:"ChannelDirectMessages.Settings.SwitchLabelCaption",get children(){return e(i,{clickable:()=>{S(!t())},get children(){return[e(i.Title,{get children(){return M("ChannelDirectMessages.Settings.SwitchLabel")}}),e(i.RightContent,{get children(){return e(A,{get checked(){return t()}})}})]}})}}),e(L,{name:"fade",get children(){return e(_,{get when(){return t()},get children(){return e(g,{name:"PaidMessages.SetPrice",class:"overflow-hidden",caption:"PaidMessages.SetPriceChannelDescription",get captionArgs(){return[f(),b()]},get children(){return e(R,{get value(){return a()},onChange:C,startFromZero:!0})}})}})}})]};export{te as default};
//# sourceMappingURL=channelDirectMessages-BcCetIwl.js.map
