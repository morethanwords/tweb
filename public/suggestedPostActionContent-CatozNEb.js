import{i as o,b as t,dl as u,ab as c,w as _,dj as G,a5 as d,a2 as S,ck as v,fT as k,t as y,d as C,a as l}from"./index-B7WIMVLo.js";import{d as L,_ as P,$ as T,g as F}from"./appDialogsManager-DWM6BLp0.js";import{I as n}from"./emailSetup-0NlYvq0Q.js";import"./page-CFQq45dV.js";import"./putPreloader-BhMVPekh.js";import"./avatar-CyLVJWYN.js";import"./classNames-CN4lTu6a.js";import"./htmlToSpan-DhAls8qz.js";import"./wrapDuration-N7gVnHGH.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./toast-CTXjJKhu.js";import"./iconTsx-Dm7uuor6.js";import"./fastBlur-Co-79rP4.js";import"./countryInputField-CGoQGdNE.js";import"./transition-4sVVeuD9.js";import"./scrollable2-B9qrN0bL.js";import"./chatBackground-BOw4waSL.js";import"./tracking-CFAwSx7m.js";const E="_Container_1jmgi_1",x="_Label_1jmgi_9",B="_Subtitle_1jmgi_14",O="_center_1jmgi_21",N="_Grid_1jmgi_26",V="_GridValue_1jmgi_34",g={Container:E,Label:x,Subtitle:B,center:O,Grid:N,GridValue:V},Y=y("<span>"),m=y("<div>"),W=y('<div>"<!>"'),h=20,ae=L({name:"suggested-post-action-content",component:e=>{e.element.classList.add(g.Container);const a=()=>e.message._==="message"?e.message.suggested_post:void 0,R=()=>!!e.message.reply_to,$=()=>e.action?._==="messageActionSuggestedPostApproval"&&e.action?.schedule_date&&e.action.schedule_date*1e3<=Date.now(),A=()=>e.message.saved_peer_id&&F(e.message.saved_peer_id),b=()=>A()!==C.myId?A():void 0,j=()=>e.action?._==="messageActionSuggestedPostSuccess"&&e.action.price.amount,f=()=>e.action?._==="messageActionSuggestedPostApproval"&&e.action.price?t(n,{get key(){return e.action.price._==="starsTonAmount"?"SuggestedPosts.TONAmount":"Stars"},get args(){return[T(e.action.price.amount)]}}):void 0,i=s=>(()=>{const r=Y();return o(r,()=>_(s)),r})();return[(()=>{const s=m();return o(s,t(G,{get children(){return[t(u,{get when(){return c(()=>!!a())()&&R()},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.SuggestedAChange":"SuggestedPosts.YouSuggestedAChange"},get args(){return e.fromPeerTitle?[e.fromPeerTitle]:void 0}})}}),t(u,{get when(){return a()},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.SuggestedAPost":"SuggestedPosts.YouSuggestedAPost"},get args(){return e.fromPeerTitle?[e.fromPeerTitle]:void 0}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostRefund"},get children(){return t(n,{key:"SuggestedPosts.Refund",get args(){return[t(P,{get peerId(){return A()},onlyFirstName:!0,limitSymbols:h})]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"&&e.action?.pFlags?.balance_too_low},get children(){return t(n,{key:"SuggestedPosts.BalanceTooLow",get args(){return[_("‚ùå")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"&&e.action?.pFlags?.rejected},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.RejectedAPost":"SuggestedPosts.YouRejectedAPost"},get args(){return c(()=>!!e.fromPeerTitle)()?[_("‚ùå"),e.fromPeerTitle]:[_("‚ùå")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"},get children(){return t(n,{key:"SuggestedPosts.AgreementReached",get args(){return[i("ü§ù")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostSuccess"},get children(){return t(n,{key:"SuggestedPosts.PostSuccess",get args(){return[i("‚úÖ"),t(n,{key:"Stars",get args(){return[T(j())]}})]}})}})]}})),d(()=>l(s,g.Label)),s})(),t(S,{get when(){return a()?.price||a()?.schedule_date},get children(){const s=m();return o(s,t(S,{get when(){return a().price},get children(){return[(()=>{const r=m();return o(r,t(n,{key:"SuggestedPosts.Price"})),d(()=>l(r,g.GridLabel)),r})(),(()=>{const r=m();return o(r,t(n,{get key(){return a().price._==="starsTonAmount"?"SuggestedPosts.TONAmount":"Stars"},get args(){return[T(a().price.amount)]}})),d(()=>l(r,g.GridValue)),r})()]}}),null),o(s,t(S,{get when(){return a().schedule_date},get children(){return[(()=>{const r=m();return o(r,t(n,{key:"SuggestedPosts.Time"})),d(()=>l(r,g.GridLabel)),r})(),(()=>{const r=m();return o(r,()=>v(a().schedule_date)),d(()=>l(r,g.GridValue)),r})()]}}),null),d(()=>l(s,g.Grid)),s}}),c((()=>{const s=c(()=>!!(e.action?._==="messageActionSuggestedPostApproval"&&e.action.reject_comment));return()=>s()&&(()=>{const r=W(),I=r.firstChild,w=I.nextSibling;return w.nextSibling,o(r,()=>e.action.reject_comment,w),d(()=>l(r,`${g.Subtitle} ${g.center}`)),r})()})()),c((()=>{const s=c(()=>e.action?._==="messageActionSuggestedPostApproval"&&!e.action?.pFlags?.balance_too_low&&!e.action?.pFlags?.rejected);return()=>s()&&[t(n,{get class(){return g.Subtitle},get key(){return $()?"SuggestedPosts.AgreementReached.Published":"SuggestedPosts.AgreementReached.ToBePublished"},get args(){return[i("üìÖ"),v(e.action.schedule_date)]}}),t(S,{get when(){return e.action.price},get children(){return[t(n,{get class(){return g.Subtitle},get key(){return b()?"SuggestedPosts.AgreementReached.HasBeenCharged":"SuggestedPosts.AgreementReached.YouHaveBeenCharged"},get args(){return c(()=>!!b())()?[i("üí∞"),t(P,{get peerId(){return b()},onlyFirstName:!0,limitSymbols:h}),f()]:[i("üí∞"),f()]}}),t(n,{get class(){return g.Subtitle},key:"SuggestedPosts.AgreementReached.WillReceive",get args(){return[i("‚è≥"),t(P,{get peerId(){return e.message.peerId},limitSymbols:h}),""+k]}}),t(n,{get class(){return g.Subtitle},key:"SuggestedPosts.AgreementReached.WillBeRefunded",get args(){return[i("üîÑ"),t(P,{get peerId(){return e.message.peerId},limitSymbols:h}),""+k]}})]}})]})())]}});export{ae as default};
//# sourceMappingURL=suggestedPostActionContent-CatozNEb.js.map
