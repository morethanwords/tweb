{"version":3,"file":"mainTab-q22xvRFr.js","sources":["../src/components/sidebarLeft/tabs/passcodeLock/shortcutBuilder.tsx","../src/components/sidebarLeft/tabs/passcodeLock/mainTab.tsx"],"sourcesContent":["import {Component, createSelector, JSX} from 'solid-js';\n\nimport {IS_APPLE} from '@environment/userAgent';\n\nimport {IconTsx} from '@components/iconTsx';\nimport ripple from '@components/ripple'; ripple; // keep\n\nimport styles from '@components/sidebarLeft/tabs/passcodeLock/shortcutBuilder.module.scss';\n\n\nexport type ShortcutKey = 'Ctrl' | 'Alt' | 'Shift' | 'Meta';\n\nconst shortcutKeys: ShortcutKey[] = ['Ctrl', 'Alt', 'Shift', 'Meta'];\n\nconst ShortcutBuilder: Component<{\n  class?: string;\n  value: ShortcutKey[];\n  onChange: (value: ShortcutKey[]) => void;\n  key: string;\n}> = (props) => {\n  const isSelected = createSelector(() => props.value, (value: ShortcutKey, shortcuts) => shortcuts.includes(value));\n\n  const getKeyContent = (key: ShortcutKey): JSX.Element => {\n    if(key === 'Meta') {\n      return <IconTsx icon={IS_APPLE ? 'mac_command_key' : 'win_key'} />;\n    }\n    return <span>{key}</span>;\n  };\n\n  const onKeyClick = (key: ShortcutKey) => {\n    if(props.value.includes(key)) {\n      const newValue = props.value.filter((k) => k !== key);\n\n      if(!newValue.length) {\n        const indicies = [0, 1, 2, 3].filter((i) => i !== shortcutKeys.indexOf(key));\n        newValue.push(shortcutKeys[indicies[Math.floor(Math.random() * indicies.length)]]);\n      }\n\n      props.onChange(newValue);\n    } else {\n      props.onChange([...props.value, key]);\n    }\n  };\n\n  return (\n    <div class={styles.Container} classList={{[props.class]: !!props.class}}>\n      <div class={styles.KeysContainer}>\n        {shortcutKeys.map((key, idx, array) => (\n          <button\n            use:ripple\n            class={styles.KeyButton}\n            classList={{\n              [styles.selected]: isSelected(key),\n              [styles.KeyButtonFirst]: idx === 0,\n              [styles.KeyButtonLast]: idx === array.length - 1\n            }}\n            onClick={[onKeyClick, key]}\n          >\n            {getKeyContent(key)}\n          </button>\n        ))}\n      </div>\n      <IconTsx class={styles.PlusIcon} icon=\"plus\" />\n      <div class={styles.TargetKey}>\n        {props.key}\n      </div>\n    </div>\n  );\n};\n\nexport default ShortcutBuilder;\n","import {Component, createResource, createSignal, onCleanup, Show} from 'solid-js';\nimport {IS_MOBILE} from '@environment/userAgent';\nimport {keepMe} from '@helpers/keepMe';\nimport ListenerSetter from '@helpers/listenerSetter';\nimport {joinDeepPath} from '@helpers/object/setDeepProperty';\nimport {i18n, LangPackKey} from '@lib/langPack';\nimport {usePasscodeActions} from '@lib/passcode/actions';\nimport {useHotReloadGuard} from '@lib/solidjs/hotReloadGuard';\nimport SettingsTabLottieAnimation from '@components/settingsTabLottieAnimation';\nimport ripple from '@components/ripple';\nimport Section from '@components/section';\nimport type SliderSuperTab from '@components/sliderTab';\nimport type {AppPasscodeLockTab} from '@components/solidJsTabs';\nimport {usePromiseCollector} from '@components/solidJsTabs/promiseCollector';\nimport {useSuperTab} from '@components/solidJsTabs/superTabProvider';\nimport Space from '@components/space';\nimport StaticSwitch from '@components/staticSwitch';\nimport commonStyles from '@components/sidebarLeft/tabs/passcodeLock/common.module.scss';\nimport InlineSelect from '@components/sidebarLeft/tabs/passcodeLock/inlineSelect';\nimport styles from '@components/sidebarLeft/tabs/passcodeLock/mainTab.module.scss';\nimport ShortcutBuilder, {ShortcutKey} from '@components/sidebarLeft/tabs/passcodeLock/shortcutBuilder';\n\nkeepMe(ripple);\n\n\ntype AppPasscodeLockTabType = typeof AppPasscodeLockTab;\n\nconst getHintParams = (tab: SliderSuperTab, title: LangPackKey) => ({\n  appendTo: tab.scrollable.container,\n  duration: 2500,\n  from: 'bottom',\n  textElement: i18n(title),\n  icon: 'premium_lock',\n  class: styles.Hint,\n  canCloseOnPeerChange: false\n} as const);\n\nconst MainTab = () => {\n  const {rootScope} = useHotReloadGuard();\n  const promiseCollector = usePromiseCollector();\n\n  const [enabled, {mutate: mutateEnabled}] = createResource(() => {\n    const promise = rootScope.managers.appStateManager.getState().then(state =>\n      state.settings?.passcode?.enabled || false\n    );\n    promiseCollector.collect(promise);\n    return promise;\n  });\n\n  const [isDisabling, setIsDisabling] = createSignal(false);\n\n  const listenerSetter = new ListenerSetter();\n\n  listenerSetter.add(rootScope)('settings_updated', ({key, value}) => {\n    if(key === joinDeepPath('settings', 'passcode', 'enabled')) {\n      mutateEnabled(value);\n    }\n  });\n  onCleanup(() => {\n    listenerSetter.removeAll();\n  });\n\n  return (\n    <Show when={enabled.state === 'ready'}>\n      {\n        enabled() || isDisabling() ?\n          <PasscodeSetContent onDisable={() => setIsDisabling(true)} /> :\n          <NoPasscodeContent />\n      }\n    </Show>\n  );\n};\n\nconst NoPasscodeContent = () => {\n  const [tab, {AppPasscodeEnterPasswordTab, AppPasscodeLockTab}] = useSuperTab();\n  const {enablePasscode} = usePasscodeActions();\n  const {setQuizHint} = useHotReloadGuard();\n\n  const onEnable = () => {\n    tab.slider.createTab(AppPasscodeEnterPasswordTab)\n    .open({\n      onSubmit: (passcode) => {\n        onSecondStep(passcode);\n        passcode = '';\n      },\n      buttonText: 'PasscodeLock.Next',\n      inputLabel: 'PasscodeLock.EnterAPasscode'\n    });\n  };\n\n  const onSecondStep = (firstPasscode: string) => {\n    tab.slider.createTab(AppPasscodeEnterPasswordTab)\n    .open({\n      onSubmit: async(passcode, otherTab) => {\n        if(passcode !== firstPasscode) throw {};\n        await enablePasscode(passcode);\n        passcode = '';\n        otherTab.slider.sliceTabsUntilTab(AppPasscodeLockTab, otherTab);\n        otherTab.close();\n\n        setQuizHint(getHintParams(tab, 'PasscodeLock.PasscodeHasBeenSet'));\n      },\n      buttonText: 'PasscodeLock.SetPasscode',\n      inputLabel: 'PasscodeLock.ReEnterPasscode'\n    });\n  };\n\n  return (\n    <Section caption=\"PasscodeLock.Notice\">\n      <SettingsTabLottieAnimation name=\"UtyanPasscode\" />\n\n      <div class={styles.MainDescription}>{i18n('PasscodeLock.Description')}</div>\n\n      <Space amount=\"0.5rem\" />\n\n      <div class={commonStyles.AdditionalPadding}>\n        <button\n          use:ripple\n          class=\"btn-primary btn-color-primary btn-large\"\n          onClick={onEnable}\n        >\n          {i18n('PasscodeLock.TurnOn')}\n        </button>\n      </div>\n\n      <Space amount=\"1rem\" />\n    </Section>\n  );\n};\n\n\nconst PasscodeSetContent: Component<{\n  onDisable: () => void;\n}> = (props) => {\n  const [tab, {AppPasscodeEnterPasswordTab, AppPasscodeLockTab, AppPrivacyAndSecurityTab}] = useSuperTab<AppPasscodeLockTabType>();\n  const {disablePasscode, changePasscode} = usePasscodeActions();\n  const {rootScope, setQuizHint, Row, useAppSettings, confirmationPopup} = useHotReloadGuard();\n  const [, setAppSettings] = useAppSettings();\n\n  const options = [\n    {value: 0, label: () => i18n('PasscodeLock.Disabled')},\n    {value: 1, label: () => i18n('MinutesShort', [1])},\n    {value: 5, label: () => i18n('MinutesShort', [5])},\n    {value: 10, label: () => i18n('MinutesShort', [10])},\n    {value: 15, label: () => i18n('MinutesShort', [15])},\n    {value: 30, label: () => i18n('MinutesShort', [30])}\n  ];\n\n  const [autoCloseRowEl, setAutoCloseRowEl] = createSignal<HTMLElement>();\n  const [isOpen, setIsOpen] = createSignal(false);\n\n  const [lockTimeout, {mutate: mutateLockTimeout}] = createResource(() => rootScope.managers.appStateManager.getState().then(state =>\n    state?.settings?.passcode?.autoLockTimeoutMins || 0\n  ));\n\n  const [shortcutEnabled, {mutate: mutateShortcutEnabled}] = createResource(() =>\n    rootScope.managers.appStateManager.getState().then(state =>\n      state?.settings?.passcode?.lockShortcutEnabled || false\n    )\n  );\n\n  const [shortcutKeys, {mutate: mutateShortcutKeys}] = createResource(() =>\n    rootScope.managers.appStateManager.getState().then(state =>\n      state?.settings?.passcode?.lockShortcut || []\n    )\n  );\n\n  const listenerSetter = new ListenerSetter();\n\n  listenerSetter.add(rootScope)('settings_updated', ({key, value}) => {\n    if(key === joinDeepPath('settings', 'passcode', 'lockShortcut')) {\n      mutateShortcutKeys(value);\n    } else if(key === joinDeepPath('settings', 'passcode', 'lockShortcutEnabled')) {\n      mutateShortcutEnabled(value);\n    } else if(key === joinDeepPath('settings', 'passcode', 'autoLockTimeoutMins')) {\n      mutateLockTimeout(value);\n    }\n  });\n\n  function setShortcutKeys(value: ShortcutKey[]) {\n    mutateShortcutKeys(value);\n    setAppSettings('passcode', 'lockShortcut', value);\n  }\n\n  function setShortcutEnabled(value: boolean) {\n    mutateShortcutEnabled(value);\n    setAppSettings('passcode', 'lockShortcutEnabled', value);\n  }\n\n  function setLockTimeout(value: number | null) {\n    mutateLockTimeout(value);\n    setAppSettings('passcode', 'autoLockTimeoutMins', value);\n  }\n\n  onCleanup(() => {\n    listenerSetter.removeAll();\n  });\n\n  const canShowShortcut = () => !IS_MOBILE && shortcutKeys.state === 'ready' && shortcutEnabled.state === 'ready';\n\n\n  const onPasscodeChange = () => {\n    tab.slider.createTab(AppPasscodeEnterPasswordTab)\n    .open({\n      onSubmit: (passcode) => {\n        onChangeSecondStep(passcode);\n        passcode = ''; // forget\n      },\n      buttonText: 'PasscodeLock.Next',\n      inputLabel: 'PasscodeLock.EnterAPasscode'\n    }, 'PasscodeLock.EnterANewPasscode');\n  };\n\n  const onChangeSecondStep = (firstPasscode: string) => {\n    tab.slider.createTab(AppPasscodeEnterPasswordTab)\n    .open({\n      onSubmit: async(passcode, otherTab) => {\n        if(passcode !== firstPasscode) throw {};\n        await changePasscode(passcode);\n        passcode = ''; // forget\n        otherTab.slider.sliceTabsUntilTab(AppPasscodeLockTab, otherTab);\n        otherTab.close();\n\n        setQuizHint(getHintParams(tab, 'PasscodeLock.PasscodeHasBeenChanged'));\n      },\n      buttonText: 'PasscodeLock.SetPasscode',\n      inputLabel: 'PasscodeLock.ReEnterPasscode'\n    }, 'PasscodeLock.ReEnterPasscode');\n  };\n\n  const onDisable = () => {\n    confirmationPopup({\n      title: i18n('PasscodeLock.TurnOff.Title'),\n      description: i18n('PasscodeLock.TurnOff.Description'),\n      button: {\n        text: i18n('PasscodeLock.TurnOff'),\n        isDanger: true\n      }\n    })\n    .then(async() => {\n      props.onDisable();\n      await disablePasscode();\n      tab.close();\n      setQuizHint(getHintParams(\n        tab.slider.getTab(AppPrivacyAndSecurityTab), 'PasscodeLock.PasscodeHasBeenDisabled'\n      ));\n    })\n    .catch(() => {});\n  };\n\n  const caption = (\n    <>\n      {i18n('PasscodeLock.Description')}\n      <Space amount=\"1rem\" />\n      {i18n('PasscodeLock.Notice')}\n    </>\n  );\n\n  return (\n    <>\n      <Section class={styles.FirstSection} caption={caption as any}>\n        <SettingsTabLottieAnimation name=\"UtyanPasscode\" />\n\n        <Space amount=\"1.125rem\" />\n\n        <Row clickable={onDisable}>\n          <Row.Icon icon=\"lockoff\" />\n          <Row.Title>{i18n('PasscodeLock.TurnOff.Title')}</Row.Title>\n        </Row>\n        <Row clickable={onPasscodeChange}>\n          <Row.Icon icon=\"key\" />\n          <Row.Title>{i18n('PasscodeLock.ChangePasscode')}</Row.Title>\n        </Row>\n      </Section>\n\n      <Section caption={canShowShortcut() ? 'PasscodeLock.LockShortcutDescription' : undefined}>\n        <Show when={lockTimeout.state === 'ready'}>\n          <Row\n            ref={setAutoCloseRowEl}\n            class={styles.Row}\n            clickable={() => {\n              setIsOpen(true);\n            }}\n          >\n            <Row.Title>{i18n('PasscodeLock.AutoLock')}</Row.Title>\n            <Row.RightContent>\n              <InlineSelect\n                value={lockTimeout()}\n                onClose={() => setIsOpen(false)}\n                options={options}\n                onChange={setLockTimeout}\n                isOpen={isOpen()}\n                parent={autoCloseRowEl()}\n              />\n            </Row.RightContent>\n          </Row>\n        </Show>\n        <Show when={canShowShortcut()}>\n          <Row\n            class={styles.Row}\n            clickable={(e) => {\n              setShortcutEnabled(!shortcutEnabled());\n            }}\n          >\n            <Row.Title>{i18n('PasscodeLock.EnableLockShortcut')}</Row.Title>\n            <Row.RightContent>\n              <StaticSwitch checked={shortcutEnabled()} />\n            </Row.RightContent>\n          </Row>\n          <div class={styles.ShortcutBuilderRow} classList={{[styles.collapsed]: !shortcutEnabled()}}>\n            <ShortcutBuilder class={styles.ShortcutBuilderRowChild} value={shortcutKeys() || []} onChange={setShortcutKeys} key=\"L\" />\n          </div>\n        </Show>\n      </Section>\n\n    </>\n  );\n};\n\nexport default MainTab;\n"],"names":["shortcutKeys","ShortcutBuilder","props","isSelected","createSelector","value","shortcuts","includes","getKeyContent","key","_$createComponent","IconTsx","icon","IS_APPLE","_el$","_tmpl$","_$insert","onKeyClick","newValue","filter","k","length","indicies","i","indexOf","push","Math","floor","random","onChange","_el$2","_tmpl$2","_el$3","firstChild","_el$4","nextSibling","map","idx","array","_el$5","_tmpl$3","$$click","$$clickData","_$use","ripple","_$effect","_p$","_v$5","styles","KeyButton","_v$6","selected","KeyButtonFirst","KeyButtonLast","_$className","_$classList","undefined","PlusIcon","_v$","Container","_v$2","class","_v$3","KeysContainer","_v$4","TargetKey","_$delegateEvents","getHintParams","tab","title","appendTo","scrollable","container","duration","from","textElement","i18n","Hint","canCloseOnPeerChange","MainTab","rootScope","useHotReloadGuard","promiseCollector","usePromiseCollector","enabled","mutate","mutateEnabled","createResource","promise","managers","appStateManager","getState","then","state","settings","passcode","collect","isDisabling","setIsDisabling","createSignal","listenerSetter","ListenerSetter","add","joinDeepPath","onCleanup","removeAll","Show","when","children","_$memo","PasscodeSetContent","onDisable","NoPasscodeContent","AppPasscodeEnterPasswordTab","AppPasscodeLockTab","useSuperTab","enablePasscode","usePasscodeActions","setQuizHint","onEnable","slider","createTab","open","onSubmit","onSecondStep","buttonText","inputLabel","firstPasscode","otherTab","sliceTabsUntilTab","close","Section","caption","SettingsTabLottieAnimation","name","MainDescription","Space","amount","commonStyles","AdditionalPadding","AppPrivacyAndSecurityTab","disablePasscode","changePasscode","Row","useAppSettings","confirmationPopup","setAppSettings","options","label","autoCloseRowEl","setAutoCloseRowEl","isOpen","setIsOpen","lockTimeout","mutateLockTimeout","autoLockTimeoutMins","shortcutEnabled","mutateShortcutEnabled","lockShortcutEnabled","mutateShortcutKeys","lockShortcut","setShortcutKeys","setShortcutEnabled","setLockTimeout","canShowShortcut","IS_MOBILE","onPasscodeChange","onChangeSecondStep","description","button","text","isDanger","getTab","catch","FirstSection","clickable","Icon","Title","ref","RightContent","InlineSelect","onClose","parent","e","StaticSwitch","checked","ShortcutBuilderRowChild","ShortcutBuilderRow","collapsed"],"mappings":"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"}