import{k as d,b8 as h,b as i,ab as r,i as g,ck as T,t as p}from"./index-om8Rlu63.js";import{I as l}from"./emailSetup-CieT1Is7.js";import{a6 as I,r as C}from"./appDialogsManager-n3Y20mNC.js";import{I as D}from"./iconTsx-3_1D6xbT.js";import{S as o}from"./index-BXhtnUd5.js";const _="_Icon_17ee9_1",b={Icon:_},S="_Container_66c8g_1",f="_Caption_66c8g_5",P="_center_66c8g_10",u={Container:S,Caption:f,center:P},m=60*1e3;class v extends I{constructor(n){const{minTimeDate:s,...e}=n;super(e),this.minTimeDate=s,this.caption=document.createElement("div"),this.caption.classList.add(u.Caption,u.center),this.caption.append(d("SuggestedPosts.PublishingTime.MinSendTime",[h(s)])),this.timeDiv.after(this.caption)}setTimeTitle(){if(super.setTimeTitle(),!this.caption||!this.minTimeDate)return;const n=new Date(this.selectedDate.getTime());n.setHours(+this.hoursInputField.value,+this.minutesInputField.value);const s=n<new Date||(n.valueOf()/m|0)<(this.minTimeDate.valueOf()/m|0);this.btnConfirm.toggleAttribute("disabled",s);const e=n.getDate()===this.minTimeDate.getDate();this.caption.classList.toggle("hide",!e)}}const k=p("<span>"),w=10,E=t=>{const n=()=>{const e=new Date;e.setMinutes(e.getMinutes()+w);const a=new Date(e);a.setHours(0,0,0,0),new v({initDate:new Date(e),minDate:a,minTimeDate:e,onPick:c=>{console.log(c),t.onChange(c)}}).show()},s=e=>{e.stopPropagation(),t.onChange(void 0)};return i(o,{clickable:!0,get withEndButtonIcon(){return!!t.value},onClick:n,get children(){return[i(o.InputStub,{get children(){return r(()=>!!t.value)()?(()=>{const e=k();return g(e,()=>T(t.value)),e})():i(l,{get key(){return t.noTimeLangKey}})}}),i(o.Label,{active:!0,get children(){return i(l,{key:"SuggestedPosts.PublishingTime.Label"})}}),i(o.SideContent,{last:!0,get children(){return r(()=>!!t.value)()?i(C,{icon:"cross",tabIndex:-1,onClick:s}):i(D,{get class(){return b.Icon},icon:"down"})}})]}})};export{E as P,b as c,u as s};
//# sourceMappingURL=publishTimeField-Dy5q17Xp.js.map
